<!DOCTYPE html><html lang="en-US"><head><title>Trash the cache</title><meta property="og:title" content="Trash the cache"><meta name="author" content="ava"><meta property="article:author" content="ava"><meta charset="UTF-8"><meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0"><meta name="apple-mobile-web-app-capable" content="yes"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta property="og:type" content="website"><meta name="twitter:card" content="summary"><style>@media screen{body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button{-webkit-tap-highlight-color:transparent;-webkit-appearance:none;appearance:none;background-color:transparent;border:0;color:inherit;cursor:pointer;font-size:inherit;opacity:.8;outline:none;padding:0;transition:opacity .2s linear}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:disabled,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:disabled,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:disabled,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:disabled{cursor:not-allowed;opacity:.15!important}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:hover{opacity:1}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:active,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:active,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover:active,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:hover:active{opacity:.6}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:not(:disabled),body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button:hover:not(:disabled),body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button:hover:not(:disabled),body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button:hover:not(:disabled){transition:none}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button.bespoke-marp-presenter-info-page-prev{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNNjggOTAgMjggNTBsNDAtNDAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button.bespoke-marp-presenter-info-page-next{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJtMzIgOTAgNDAtNDAtNDAtNDAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen]{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NXB4fTwvc3R5bGU+PC9kZWZzPjxyZWN0IHdpZHRoPSI4MCIgaGVpZ2h0PSI2MCIgeD0iMTAiIHk9IjIwIiBjbGFzcz0iYSIgcng9IjUuNjciLz48cGF0aCBkPSJNNDAgNzBIMjBWNTBtMjAgMEwyMCA3MG00MC00MGgyMHYyMG0tMjAgMCAyMC0yMCIgY2xhc3M9ImEiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button.exit[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button.exit[data-bespoke-marp-osc=fullscreen]{background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48c3R5bGU+LmF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6NXB4fTwvc3R5bGU+PC9kZWZzPjxyZWN0IHdpZHRoPSI4MCIgaGVpZ2h0PSI2MCIgeD0iMTAiIHk9IjIwIiBjbGFzcz0iYSIgcng9IjUuNjciLz48cGF0aCBkPSJNMjAgNTBoMjB2MjBtLTIwIDAgMjAtMjBtNDAgMEg2MFYzMG0yMCAwTDYwIDUwIiBjbGFzcz0iYSIvPjwvc3ZnPg==")}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter]{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNODcuOCA0Ny41Qzg5IDUwIDg3LjcgNTIgODUgNTJIMzVhOC43IDguNyAwIDAgMS03LjItNC41bC0xNS42LTMxQzExIDE0IDEyLjIgMTIgMTUgMTJoNTBhOC44IDguOCAwIDAgMSA3LjIgNC41ek02MCA1MnYzNm0tMTAgMGgyME00NSA0MmgyMCIvPjwvc3ZnPg==") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button.bespoke-marp-presenter-note-bigger{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNMTIgNTBoODBNNTIgOTBWMTAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button.bespoke-marp-presenter-note-smaller{background:transparent url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNmZmYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSI1IiBkPSJNMTIgNTBoODAiLz48L3N2Zz4=") no-repeat 50%;background-size:contain;overflow:hidden;text-indent:100%;white-space:nowrap}}@keyframes __bespoke_marp_transition_reduced_outgoing__{0%{opacity:1}to{opacity:0}}@keyframes __bespoke_marp_transition_reduced_incoming__{0%{mix-blend-mode:plus-lighter;opacity:0}to{mix-blend-mode:plus-lighter;opacity:1}}.bespoke-marp-note,.bespoke-marp-osc,.bespoke-progress-parent{display:none;transition:none}@media screen{::view-transition-group(*){animation-duration:var(--marp-bespoke-transition-animation-duration,.5s);animation-timing-function:ease}::view-transition-new(*),::view-transition-old(*){animation-delay:0s;animation-direction:var(--marp-bespoke-transition-animation-direction,normal);animation-duration:var(--marp-bespoke-transition-animation-duration,.5s);animation-fill-mode:both;animation-name:var(--marp-bespoke-transition-animation-name,var(--marp-bespoke-transition-animation-name-fallback,__bespoke_marp_transition_no_animation__));mix-blend-mode:normal}::view-transition-old(*){--marp-bespoke-transition-animation-name-fallback:__bespoke_marp_transition_reduced_outgoing__;animation-timing-function:ease}::view-transition-new(*){--marp-bespoke-transition-animation-name-fallback:__bespoke_marp_transition_reduced_incoming__;animation-timing-function:ease}::view-transition-new(root),::view-transition-old(root){animation-timing-function:linear}::view-transition-new(__bespoke_marp_transition_osc__),::view-transition-old(__bespoke_marp_transition_osc__){animation-duration:0s!important;animation-name:__bespoke_marp_transition_osc__!important}::view-transition-new(__bespoke_marp_transition_osc__){opacity:0!important}.bespoke-marp-transition-warming-up::view-transition-group(*),.bespoke-marp-transition-warming-up::view-transition-new(*),.bespoke-marp-transition-warming-up::view-transition-old(*){animation-play-state:paused!important}body,html{height:100%;margin:0}body{background:#000;overflow:hidden}svg.bespoke-marp-slide{content-visibility:hidden;opacity:0;pointer-events:none;z-index:-1}svg.bespoke-marp-slide:not(.bespoke-marp-active) *{view-transition-name:none!important}svg.bespoke-marp-slide.bespoke-marp-active{content-visibility:visible;opacity:1;pointer-events:auto;z-index:0}svg.bespoke-marp-slide.bespoke-marp-active.bespoke-marp-active-ready *{animation-name:__bespoke_marp__!important}@supports not (content-visibility:hidden){svg.bespoke-marp-slide[data-bespoke-marp-load=hideable]{display:none}svg.bespoke-marp-slide[data-bespoke-marp-load=hideable].bespoke-marp-active{display:block}}}@media screen and (prefers-reduced-motion:reduce){svg.bespoke-marp-slide *{view-transition-name:none!important}}@media screen{[data-bespoke-marp-fragment=inactive]{visibility:hidden}body[data-bespoke-view=""] .bespoke-marp-parent,body[data-bespoke-view=next] .bespoke-marp-parent{inset:0;position:absolute}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc{view-transition-name:__bespoke_marp_transition_osc__;background:rgba(0,0,0,.65);border-radius:7px;bottom:50px;color:#fff;contain:paint;display:block;font-family:Helvetica,Arial,sans-serif;font-size:16px;left:50%;line-height:0;opacity:1;padding:12px;position:absolute;touch-action:manipulation;transform:translateX(-50%);transition:opacity .2s linear;-webkit-user-select:none;user-select:none;white-space:nowrap;will-change:transform;z-index:1}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>*,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>*{margin-left:6px}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>:first-child,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>:first-child{margin-left:0}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>span,body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>span{opacity:.8}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>span[data-bespoke-marp-osc=page],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>span[data-bespoke-marp-osc=page]{display:inline-block;min-width:140px;text-align:center}body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=""] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=fullscreen],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=next],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=presenter],body[data-bespoke-view=next] .bespoke-marp-parent>.bespoke-marp-osc>button[data-bespoke-marp-osc=prev]{height:32px;line-height:32px;width:32px}body[data-bespoke-view=""] .bespoke-marp-parent.bespoke-marp-inactive,body[data-bespoke-view=next] .bespoke-marp-parent.bespoke-marp-inactive{cursor:none}body[data-bespoke-view=""] .bespoke-marp-parent.bespoke-marp-inactive>.bespoke-marp-osc,body[data-bespoke-view=next] .bespoke-marp-parent.bespoke-marp-inactive>.bespoke-marp-osc{opacity:0;pointer-events:none}body[data-bespoke-view=""] svg.bespoke-marp-slide,body[data-bespoke-view=next] svg.bespoke-marp-slide{height:100%;left:0;position:absolute;top:0;width:100%}body[data-bespoke-view=""] .bespoke-progress-parent{background:#222;display:flex;height:5px;width:100%}body[data-bespoke-view=""] .bespoke-progress-parent+.bespoke-marp-parent{top:5px}body[data-bespoke-view=""] .bespoke-progress-parent .bespoke-progress-bar{background:#0288d1;flex:0 0 0;transition:flex-basis .2s cubic-bezier(0,1,1,1)}body[data-bespoke-view=next]{background:transparent}body[data-bespoke-view=presenter]{background:#161616}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container{display:grid;font-family:Helvetica,Arial,sans-serif;grid-template:"current dragbar next" minmax(140px,1fr) "current dragbar note" 2fr "info    dragbar note" 3em;grid-template-columns:minmax(3px,var(--bespoke-marp-presenter-split-ratio,66%)) 0 minmax(3px,1fr);height:100%;left:0;position:absolute;top:0;width:100%}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent{grid-area:current;overflow:hidden;position:relative}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent svg.bespoke-marp-slide{height:calc(100% - 40px);left:20px;pointer-events:none;position:absolute;top:20px;-webkit-user-select:none;user-select:none;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-parent svg.bespoke-marp-slide.bespoke-marp-active{filter:drop-shadow(0 3px 10px rgba(0,0,0,.5))}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-dragbar-container{background:#0288d1;cursor:col-resize;grid-area:dragbar;margin-left:-3px;opacity:0;position:relative;transition:opacity .4s linear .1s;width:6px;z-index:10}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-dragbar-container:hover{opacity:1}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-dragbar-container.active{opacity:1;transition-delay:0s}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container{background:#222;cursor:pointer;display:none;grid-area:next;overflow:hidden;position:relative}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container.active{display:block}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-next-container iframe.bespoke-marp-presenter-next{background:transparent;border:0;display:block;filter:drop-shadow(0 3px 10px rgba(0,0,0,.5));height:calc(100% - 40px);left:20px;pointer-events:none;position:absolute;top:20px;-webkit-user-select:none;user-select:none;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container{background:#222;color:#eee;grid-area:note;position:relative;z-index:1}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container button{height:1.5em;line-height:1.5em;width:1.5em}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-wrapper{display:block;inset:0;position:absolute}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-buttons{background:rgba(0,0,0,.65);border-radius:4px;bottom:0;display:flex;gap:4px;margin:12px;opacity:0;padding:6px;pointer-events:none;position:absolute;right:0;transition:opacity .2s linear}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-buttons:focus-within,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-presenter-note-wrapper:focus-within+.bespoke-marp-presenter-note-buttons,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container:hover .bespoke-marp-presenter-note-buttons{opacity:1;pointer-events:auto}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note{word-wrap:break-word;box-sizing:border-box;font-size:calc(1.1em*var(--bespoke-marp-note-font-scale, 1));height:calc(100% - 40px);margin:20px;overflow:auto;padding-right:3px;scrollbar-color:hsla(0,0%,93%,.5) transparent;scrollbar-width:thin;white-space:pre-wrap;width:calc(100% - 40px)}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar{width:6px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar-track{background:transparent}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note::-webkit-scrollbar-thumb{background:hsla(0,0%,93%,.5);border-radius:6px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note:empty{pointer-events:none}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note.active{display:block}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note p:first-child{margin-top:0}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-note-container .bespoke-marp-note p:last-child{margin-bottom:0}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container{align-items:center;box-sizing:border-box;color:#eee;display:flex;flex-wrap:nowrap;grid-area:info;justify-content:center;overflow:hidden;padding:0 10px}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-time,body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer{box-sizing:border-box;display:block;padding:0 10px;white-space:nowrap;width:100%}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container button{height:1.5em;line-height:1.5em;width:1.5em}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page{order:2;text-align:center}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-page .bespoke-marp-presenter-info-page-text{display:inline-block;min-width:120px;text-align:center}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-time{color:#999;order:1;text-align:left}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer{color:#999;order:3;text-align:right}body[data-bespoke-view=presenter] .bespoke-marp-presenter-container .bespoke-marp-presenter-info-container .bespoke-marp-presenter-info-timer:hover{cursor:pointer}}@media print{.bespoke-marp-presenter-info-container,.bespoke-marp-presenter-next-container,.bespoke-marp-presenter-note-container{display:none}}</style><style>@import url('https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@300&display=swap');div#\:\$p>svg>foreignObject>section{width:1280px;height:720px;box-sizing:border-box;overflow:hidden;position:relative;scroll-snap-align:center center}div#\:\$p>svg>foreignObject>section:after{bottom:0;content:attr(data-marpit-pagination);padding:inherit;pointer-events:none;position:absolute;right:0}div#\:\$p>svg>foreignObject>section:not([data-marpit-pagination]):after{display:none}/* Normalization */div#\:\$p>svg>foreignObject>section :is(h1,marp-h1){font-size:2em;margin:0.67em 0}div#\:\$p>svg>foreignObject>section video::-webkit-media-controls{will-change:transform}@page{size:1920px 1080px;margin:0}@media print{body,html{background-color:#fff;margin:0;page-break-inside:avoid;break-inside:avoid-page}div#\:\$p>svg>foreignObject>section{page-break-before:always;break-before:page}div#\:\$p>svg>foreignObject>section,div#\:\$p>svg>foreignObject>section *{-webkit-print-color-adjust:exact!important;animation-delay:0s!important;animation-duration:0s!important;color-adjust:exact!important;transition:none!important}div#\:\$p>svg[data-marpit-svg]{display:block;height:100vh;width:100vw}}
/*!
 * Marp default theme.
 *
 * @theme default
 * @author Yuki Hattori
 *
 * @auto-scaling true
 * @size 16:9 1280px 720px
 * @size 4:3 960px 720px
 */div#\:\$p>svg>foreignObject>section,div#\:\$p>svg>foreignObject>section [data-theme=light]{--color-prettylights-syntax-comment:#6e7781;--color-prettylights-syntax-constant:#0550ae;--color-prettylights-syntax-entity:#6639ba;--color-prettylights-syntax-storage-modifier-import:#24292f;--color-prettylights-syntax-entity-tag:#116329;--color-prettylights-syntax-keyword:#cf222e;--color-prettylights-syntax-string:#0a3069;--color-prettylights-syntax-variable:#953800;--color-prettylights-syntax-brackethighlighter-unmatched:#82071e;--color-prettylights-syntax-invalid-illegal-text:#f6f8fa;--color-prettylights-syntax-invalid-illegal-bg:#82071e;--color-prettylights-syntax-carriage-return-text:#f6f8fa;--color-prettylights-syntax-carriage-return-bg:#cf222e;--color-prettylights-syntax-string-regexp:#116329;--color-prettylights-syntax-markup-list:#3b2300;--color-prettylights-syntax-markup-heading:#0550ae;--color-prettylights-syntax-markup-italic:#24292f;--color-prettylights-syntax-markup-bold:#24292f;--color-prettylights-syntax-markup-deleted-text:#82071e;--color-prettylights-syntax-markup-deleted-bg:#ffebe9;--color-prettylights-syntax-markup-inserted-text:#116329;--color-prettylights-syntax-markup-inserted-bg:#dafbe1;--color-prettylights-syntax-markup-changed-text:#953800;--color-prettylights-syntax-markup-changed-bg:#ffd8b5;--color-prettylights-syntax-markup-ignored-text:#eaeef2;--color-prettylights-syntax-markup-ignored-bg:#0550ae;--color-prettylights-syntax-meta-diff-range:#8250df;--color-prettylights-syntax-brackethighlighter-angle:#57606a;--color-prettylights-syntax-sublimelinter-gutter-mark:#8c959f;--color-prettylights-syntax-constant-other-reference-link:#0a3069;--color-fg-default:#1f2328;--color-fg-muted:#656d76;--color-fg-subtle:#6e7781;--color-canvas-default:#fff;--color-canvas-subtle:#f6f8fa;--color-border-default:#d0d7de;--color-border-muted:#d8dee4;--color-neutral-muted:rgba(175,184,193,.2);--color-accent-fg:#0969da;--color-accent-emphasis:#0969da;--color-attention-subtle:#fff8c5;--color-danger-fg:#d1242f;color-scheme:light}div#\:\$p>svg>foreignObject>section [data-theme=dark],div#\:\$p>svg>foreignObject>section:where(.invert){--color-prettylights-syntax-comment:#8b949e;--color-prettylights-syntax-constant:#79c0ff;--color-prettylights-syntax-entity:#d2a8ff;--color-prettylights-syntax-storage-modifier-import:#c9d1d9;--color-prettylights-syntax-entity-tag:#7ee787;--color-prettylights-syntax-keyword:#ff7b72;--color-prettylights-syntax-string:#a5d6ff;--color-prettylights-syntax-variable:#ffa657;--color-prettylights-syntax-brackethighlighter-unmatched:#f85149;--color-prettylights-syntax-invalid-illegal-text:#f0f6fc;--color-prettylights-syntax-invalid-illegal-bg:#8e1519;--color-prettylights-syntax-carriage-return-text:#f0f6fc;--color-prettylights-syntax-carriage-return-bg:#b62324;--color-prettylights-syntax-string-regexp:#7ee787;--color-prettylights-syntax-markup-list:#f2cc60;--color-prettylights-syntax-markup-heading:#1f6feb;--color-prettylights-syntax-markup-italic:#c9d1d9;--color-prettylights-syntax-markup-bold:#c9d1d9;--color-prettylights-syntax-markup-deleted-text:#ffdcd7;--color-prettylights-syntax-markup-deleted-bg:#67060c;--color-prettylights-syntax-markup-inserted-text:#aff5b4;--color-prettylights-syntax-markup-inserted-bg:#033a16;--color-prettylights-syntax-markup-changed-text:#ffdfb6;--color-prettylights-syntax-markup-changed-bg:#5a1e02;--color-prettylights-syntax-markup-ignored-text:#c9d1d9;--color-prettylights-syntax-markup-ignored-bg:#1158c7;--color-prettylights-syntax-meta-diff-range:#d2a8ff;--color-prettylights-syntax-brackethighlighter-angle:#8b949e;--color-prettylights-syntax-sublimelinter-gutter-mark:#484f58;--color-prettylights-syntax-constant-other-reference-link:#a5d6ff;--color-fg-default:#e6edf3;--color-fg-muted:#7d8590;--color-fg-subtle:#6e7681;--color-canvas-default:#0d1117;--color-canvas-subtle:#161b22;--color-border-default:#30363d;--color-border-muted:#21262d;--color-neutral-muted:hsla(215,8%,47%,.4);--color-accent-fg:#2f81f7;--color-accent-emphasis:#1f6feb;--color-attention-subtle:rgba(187,128,9,.15);--color-danger-fg:#f85149;color-scheme:dark}div#\:\$p>svg>foreignObject>section{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;word-wrap:break-word;background-color:var(--color-canvas-default);color:var(--color-fg-default);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Noto Sans,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-size:16px;line-height:1.5;margin:0}div#\:\$p>svg>foreignObject>section{--marpit-root-font-size:16px}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1):hover .anchor .octicon-link:before,div#\:\$p>svg>foreignObject>section :is(h2,marp-h2):hover .anchor .octicon-link:before,div#\:\$p>svg>foreignObject>section :is(h3,marp-h3):hover .anchor .octicon-link:before,div#\:\$p>svg>foreignObject>section :is(h4,marp-h4):hover .anchor .octicon-link:before,div#\:\$p>svg>foreignObject>section :is(h5,marp-h5):hover .anchor .octicon-link:before,div#\:\$p>svg>foreignObject>section :is(h6,marp-h6):hover .anchor .octicon-link:before{background-color:currentColor;content:" ";display:inline-block;height:16px;-webkit-mask-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"/></svg>');mask-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"/></svg>');width:16px}div#\:\$p>svg>foreignObject>section details,div#\:\$p>svg>foreignObject>section figcaption,div#\:\$p>svg>foreignObject>section figure{display:block}div#\:\$p>svg>foreignObject>section summary{display:list-item}div#\:\$p>svg>foreignObject>section [hidden]{display:none!important}div#\:\$p>svg>foreignObject>section a{background-color:transparent;color:var(--color-accent-fg);text-decoration:none}div#\:\$p>svg>foreignObject>section abbr[title]{border-bottom:none;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}div#\:\$p>svg>foreignObject>section b,div#\:\$p>svg>foreignObject>section strong{font-weight:var(--base-text-weight-semibold,600)}div#\:\$p>svg>foreignObject>section dfn{font-style:italic}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1){border-bottom:1px solid var(--color-border-muted);font-size:2em;font-weight:var(--base-text-weight-semibold,600);margin:.67em 0;padding-bottom:.3em}div#\:\$p>svg>foreignObject>section mark{background-color:var(--color-attention-subtle);color:var(--color-fg-default)}div#\:\$p>svg>foreignObject>section small{font-size:90%}div#\:\$p>svg>foreignObject>section sub,div#\:\$p>svg>foreignObject>section sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}div#\:\$p>svg>foreignObject>section sub{bottom:-.25em}div#\:\$p>svg>foreignObject>section sup{top:-.5em}div#\:\$p>svg>foreignObject>section img{background-color:var(--color-canvas-default);border-style:none;box-sizing:content-box;max-width:100%}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre),div#\:\$p>svg>foreignObject>section code,div#\:\$p>svg>foreignObject>section kbd,div#\:\$p>svg>foreignObject>section samp{font-family:monospace;font-size:1em}div#\:\$p>svg>foreignObject>section figure{margin:1em 40px}div#\:\$p>svg>foreignObject>section hr{background:transparent;background-color:var(--color-border-default);border:0;box-sizing:content-box;height:.25em;margin:24px 0;overflow:hidden;padding:0}div#\:\$p>svg>foreignObject>section input{font:inherit;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible}div#\:\$p>svg>foreignObject>section [type=button],div#\:\$p>svg>foreignObject>section [type=reset],div#\:\$p>svg>foreignObject>section [type=submit]{-webkit-appearance:button}div#\:\$p>svg>foreignObject>section [type=checkbox],div#\:\$p>svg>foreignObject>section [type=radio]{box-sizing:border-box;padding:0}div#\:\$p>svg>foreignObject>section [type=number]::-webkit-inner-spin-button,div#\:\$p>svg>foreignObject>section [type=number]::-webkit-outer-spin-button{height:auto}div#\:\$p>svg>foreignObject>section [type=search]::-webkit-search-cancel-button,div#\:\$p>svg>foreignObject>section [type=search]::-webkit-search-decoration{-webkit-appearance:none}div#\:\$p>svg>foreignObject>section ::-webkit-input-placeholder{color:inherit;opacity:.54}div#\:\$p>svg>foreignObject>section ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}div#\:\$p>svg>foreignObject>section a:hover{text-decoration:underline}div#\:\$p>svg>foreignObject>section ::-moz-placeholder{color:var(--color-fg-subtle);opacity:1}div#\:\$p>svg>foreignObject>section ::placeholder{color:var(--color-fg-subtle);opacity:1}div#\:\$p>svg>foreignObject>section hr:after,div#\:\$p>svg>foreignObject>section hr:before{content:"";display:table}div#\:\$p>svg>foreignObject>section hr:after{clear:both}div#\:\$p>svg>foreignObject>section table{border-collapse:collapse;border-spacing:0;display:block;max-width:100%;overflow:auto;width:-moz-max-content;width:max-content}div#\:\$p>svg>foreignObject>section td,div#\:\$p>svg>foreignObject>section th{padding:0}div#\:\$p>svg>foreignObject>section details summary{cursor:pointer}div#\:\$p>svg>foreignObject>section details:not([open])>:not(summary){display:none!important}div#\:\$p>svg>foreignObject>section [role=button]:focus,div#\:\$p>svg>foreignObject>section a:focus,div#\:\$p>svg>foreignObject>section input[type=checkbox]:focus,div#\:\$p>svg>foreignObject>section input[type=radio]:focus{box-shadow:none;outline:2px solid var(--color-accent-fg);outline-offset:-2px}div#\:\$p>svg>foreignObject>section [role=button]:focus:not(:focus-visible),div#\:\$p>svg>foreignObject>section a:focus:not(:focus-visible),div#\:\$p>svg>foreignObject>section input[type=checkbox]:focus:not(:focus-visible),div#\:\$p>svg>foreignObject>section input[type=radio]:focus:not(:focus-visible){outline:1px solid transparent}div#\:\$p>svg>foreignObject>section [role=button]:focus-visible,div#\:\$p>svg>foreignObject>section a:focus-visible,div#\:\$p>svg>foreignObject>section input[type=checkbox]:focus-visible,div#\:\$p>svg>foreignObject>section input[type=radio]:focus-visible{box-shadow:none;outline:2px solid var(--color-accent-fg);outline-offset:-2px}div#\:\$p>svg>foreignObject>section a:not([class]):focus,div#\:\$p>svg>foreignObject>section a:not([class]):focus-visible,div#\:\$p>svg>foreignObject>section input[type=checkbox]:focus,div#\:\$p>svg>foreignObject>section input[type=checkbox]:focus-visible,div#\:\$p>svg>foreignObject>section input[type=radio]:focus,div#\:\$p>svg>foreignObject>section input[type=radio]:focus-visible{outline-offset:0}div#\:\$p>svg>foreignObject>section kbd{background-color:var(--color-canvas-subtle);border-bottom-color:var(--color-neutral-muted);border:1px solid var(--color-neutral-muted);border-radius:6px;box-shadow:inset 0 -1px 0 var(--color-neutral-muted);color:var(--color-fg-default);display:inline-block;font:11px ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;line-height:10px;padding:3px 5px;vertical-align:middle}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1),div#\:\$p>svg>foreignObject>section :is(h2,marp-h2),div#\:\$p>svg>foreignObject>section :is(h3,marp-h3),div#\:\$p>svg>foreignObject>section :is(h4,marp-h4),div#\:\$p>svg>foreignObject>section :is(h5,marp-h5),div#\:\$p>svg>foreignObject>section :is(h6,marp-h6){font-weight:var(--base-text-weight-semibold,600);line-height:1.25;margin-bottom:16px;margin-top:24px}div#\:\$p>svg>foreignObject>section :is(h2,marp-h2){border-bottom:1px solid var(--color-border-muted);font-size:1.5em;padding-bottom:.3em}div#\:\$p>svg>foreignObject>section :is(h2,marp-h2),div#\:\$p>svg>foreignObject>section :is(h3,marp-h3){font-weight:var(--base-text-weight-semibold,600)}div#\:\$p>svg>foreignObject>section :is(h3,marp-h3){font-size:1.25em}div#\:\$p>svg>foreignObject>section :is(h4,marp-h4){font-size:1em}div#\:\$p>svg>foreignObject>section :is(h4,marp-h4),div#\:\$p>svg>foreignObject>section :is(h5,marp-h5){font-weight:var(--base-text-weight-semibold,600)}div#\:\$p>svg>foreignObject>section :is(h5,marp-h5){font-size:.875em}div#\:\$p>svg>foreignObject>section :is(h6,marp-h6){color:var(--color-fg-muted);font-size:.85em;font-weight:var(--base-text-weight-semibold,600)}div#\:\$p>svg>foreignObject>section p{margin-bottom:10px;margin-top:0}div#\:\$p>svg>foreignObject>section blockquote{border-left:.25em solid var(--color-border-default);color:var(--color-fg-muted);margin:0;padding:0 1em}div#\:\$p>svg>foreignObject>section ol,div#\:\$p>svg>foreignObject>section ul{margin-bottom:0;margin-top:0;padding-left:2em}div#\:\$p>svg>foreignObject>section ol ol,div#\:\$p>svg>foreignObject>section ul ol{list-style-type:lower-roman}div#\:\$p>svg>foreignObject>section ol ol ol,div#\:\$p>svg>foreignObject>section ol ul ol,div#\:\$p>svg>foreignObject>section ul ol ol,div#\:\$p>svg>foreignObject>section ul ul ol{list-style-type:lower-alpha}div#\:\$p>svg>foreignObject>section dd{margin-left:0}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre),div#\:\$p>svg>foreignObject>section code,div#\:\$p>svg>foreignObject>section samp,div#\:\$p>svg>foreignObject>section tt{font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;font-size:12px}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre){word-wrap:normal;margin-bottom:0;margin-top:0}div#\:\$p>svg>foreignObject>section .octicon{fill:currentColor;display:inline-block;overflow:visible!important;vertical-align:text-bottom}div#\:\$p>svg>foreignObject>section input::-webkit-inner-spin-button,div#\:\$p>svg>foreignObject>section input::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}div#\:\$p>svg>foreignObject>section:after,div#\:\$p>svg>foreignObject>section:before{
  /* content:""; */display:table}div#\:\$p>svg>foreignObject>section:after{clear:both}div#\:\$p>svg>foreignObject>section>:first-child{margin-top:0!important}div#\:\$p>svg>foreignObject>section>:last-child{margin-bottom:0!important}div#\:\$p>svg>foreignObject>section a:not([href]){color:inherit;text-decoration:none}div#\:\$p>svg>foreignObject>section .absent{color:var(--color-danger-fg)}div#\:\$p>svg>foreignObject>section .anchor{float:left;line-height:1;margin-left:-20px;padding-right:4px}div#\:\$p>svg>foreignObject>section .anchor:focus{outline:none}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre),div#\:\$p>svg>foreignObject>section blockquote,div#\:\$p>svg>foreignObject>section details,div#\:\$p>svg>foreignObject>section dl,div#\:\$p>svg>foreignObject>section ol,div#\:\$p>svg>foreignObject>section p,div#\:\$p>svg>foreignObject>section table,div#\:\$p>svg>foreignObject>section ul{margin-bottom:16px;margin-top:0}div#\:\$p>svg>foreignObject>section blockquote>:first-child{margin-top:0}div#\:\$p>svg>foreignObject>section blockquote>:last-child{margin-bottom:0}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1) .octicon-link,div#\:\$p>svg>foreignObject>section :is(h2,marp-h2) .octicon-link,div#\:\$p>svg>foreignObject>section :is(h3,marp-h3) .octicon-link,div#\:\$p>svg>foreignObject>section :is(h4,marp-h4) .octicon-link,div#\:\$p>svg>foreignObject>section :is(h5,marp-h5) .octicon-link,div#\:\$p>svg>foreignObject>section :is(h6,marp-h6) .octicon-link{color:var(--color-fg-default);vertical-align:middle;visibility:hidden}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1):hover .anchor,div#\:\$p>svg>foreignObject>section :is(h2,marp-h2):hover .anchor,div#\:\$p>svg>foreignObject>section :is(h3,marp-h3):hover .anchor,div#\:\$p>svg>foreignObject>section :is(h4,marp-h4):hover .anchor,div#\:\$p>svg>foreignObject>section :is(h5,marp-h5):hover .anchor,div#\:\$p>svg>foreignObject>section :is(h6,marp-h6):hover .anchor{text-decoration:none}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1):hover .anchor .octicon-link,div#\:\$p>svg>foreignObject>section :is(h2,marp-h2):hover .anchor .octicon-link,div#\:\$p>svg>foreignObject>section :is(h3,marp-h3):hover .anchor .octicon-link,div#\:\$p>svg>foreignObject>section :is(h4,marp-h4):hover .anchor .octicon-link,div#\:\$p>svg>foreignObject>section :is(h5,marp-h5):hover .anchor .octicon-link,div#\:\$p>svg>foreignObject>section :is(h6,marp-h6):hover .anchor .octicon-link{visibility:visible}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1) code,div#\:\$p>svg>foreignObject>section :is(h1,marp-h1) tt,div#\:\$p>svg>foreignObject>section :is(h2,marp-h2) code,div#\:\$p>svg>foreignObject>section :is(h2,marp-h2) tt,div#\:\$p>svg>foreignObject>section :is(h3,marp-h3) code,div#\:\$p>svg>foreignObject>section :is(h3,marp-h3) tt,div#\:\$p>svg>foreignObject>section :is(h4,marp-h4) code,div#\:\$p>svg>foreignObject>section :is(h4,marp-h4) tt,div#\:\$p>svg>foreignObject>section :is(h5,marp-h5) code,div#\:\$p>svg>foreignObject>section :is(h5,marp-h5) tt,div#\:\$p>svg>foreignObject>section :is(h6,marp-h6) code,div#\:\$p>svg>foreignObject>section :is(h6,marp-h6) tt{font-size:inherit;padding:0 .2em}div#\:\$p>svg>foreignObject>section summary :is(h1,marp-h1),div#\:\$p>svg>foreignObject>section summary :is(h2,marp-h2),div#\:\$p>svg>foreignObject>section summary :is(h3,marp-h3),div#\:\$p>svg>foreignObject>section summary :is(h4,marp-h4),div#\:\$p>svg>foreignObject>section summary :is(h5,marp-h5),div#\:\$p>svg>foreignObject>section summary :is(h6,marp-h6){display:inline-block}div#\:\$p>svg>foreignObject>section summary :is(h1,marp-h1) .anchor,div#\:\$p>svg>foreignObject>section summary :is(h2,marp-h2) .anchor,div#\:\$p>svg>foreignObject>section summary :is(h3,marp-h3) .anchor,div#\:\$p>svg>foreignObject>section summary :is(h4,marp-h4) .anchor,div#\:\$p>svg>foreignObject>section summary :is(h5,marp-h5) .anchor,div#\:\$p>svg>foreignObject>section summary :is(h6,marp-h6) .anchor{margin-left:-40px}div#\:\$p>svg>foreignObject>section summary :is(h1,marp-h1),div#\:\$p>svg>foreignObject>section summary :is(h2,marp-h2){border-bottom:0;padding-bottom:0}div#\:\$p>svg>foreignObject>section ol.no-list,div#\:\$p>svg>foreignObject>section ul.no-list{list-style-type:none;padding:0}div#\:\$p>svg>foreignObject>section ol[type="a s"]{list-style-type:lower-alpha}div#\:\$p>svg>foreignObject>section ol[type="A s"]{list-style-type:upper-alpha}div#\:\$p>svg>foreignObject>section ol[type="i s"]{list-style-type:lower-roman}div#\:\$p>svg>foreignObject>section ol[type="I s"]{list-style-type:upper-roman}div#\:\$p>svg>foreignObject>section div>ol:not([type]),div#\:\$p>svg>foreignObject>section ol[type="1"]{list-style-type:decimal}div#\:\$p>svg>foreignObject>section ol ol,div#\:\$p>svg>foreignObject>section ol ul,div#\:\$p>svg>foreignObject>section ul ol,div#\:\$p>svg>foreignObject>section ul ul{margin-bottom:0;margin-top:0}div#\:\$p>svg>foreignObject>section li>p{margin-top:16px}div#\:\$p>svg>foreignObject>section li+li{margin-top:.25em}div#\:\$p>svg>foreignObject>section dl{padding:0}div#\:\$p>svg>foreignObject>section dl dt{font-size:1em;font-style:italic;font-weight:var(--base-text-weight-semibold,600);margin-top:16px;padding:0}div#\:\$p>svg>foreignObject>section dl dd{margin-bottom:16px;padding:0 16px}div#\:\$p>svg>foreignObject>section table th{font-weight:var(--base-text-weight-semibold,600)}div#\:\$p>svg>foreignObject>section table td,div#\:\$p>svg>foreignObject>section table th{border:1px solid var(--color-border-default);padding:6px 13px}div#\:\$p>svg>foreignObject>section table td>:last-child{margin-bottom:0}div#\:\$p>svg>foreignObject>section table tr{background-color:var(--color-canvas-default);border-top:1px solid var(--color-border-muted)}div#\:\$p>svg>foreignObject>section table tr:nth-child(2n){background-color:var(--color-canvas-subtle)}div#\:\$p>svg>foreignObject>section table img{background-color:transparent}div#\:\$p>svg>foreignObject>section img[align=right]{padding-left:20px}div#\:\$p>svg>foreignObject>section img[align=left]{padding-right:20px}div#\:\$p>svg>foreignObject>section .emoji{background-color:transparent;max-width:none;vertical-align:text-top}div#\:\$p>svg>foreignObject>section :is(span,marp-span).frame,div#\:\$p>svg>foreignObject>section :is(span,marp-span).frame>:is(span,marp-span){display:block;overflow:hidden}div#\:\$p>svg>foreignObject>section :is(span,marp-span).frame>:is(span,marp-span){border:1px solid var(--color-border-default);float:left;margin:13px 0 0;padding:7px;width:auto}div#\:\$p>svg>foreignObject>section :is(span,marp-span).frame :is(span,marp-span) img{display:block;float:left}div#\:\$p>svg>foreignObject>section :is(span,marp-span).frame :is(span,marp-span) :is(span,marp-span){clear:both;color:var(--color-fg-default);display:block;padding:5px 0 0}div#\:\$p>svg>foreignObject>section :is(span,marp-span).align-center{clear:both;display:block;overflow:hidden}div#\:\$p>svg>foreignObject>section :is(span,marp-span).align-center>:is(span,marp-span){display:block;margin:13px auto 0;overflow:hidden;text-align:center}div#\:\$p>svg>foreignObject>section :is(span,marp-span).align-center :is(span,marp-span) img{margin:0 auto;text-align:center}div#\:\$p>svg>foreignObject>section :is(span,marp-span).align-right{clear:both;display:block;overflow:hidden}div#\:\$p>svg>foreignObject>section :is(span,marp-span).align-right>:is(span,marp-span){display:block;margin:13px 0 0;overflow:hidden;text-align:right}div#\:\$p>svg>foreignObject>section :is(span,marp-span).align-right :is(span,marp-span) img{margin:0;text-align:right}div#\:\$p>svg>foreignObject>section :is(span,marp-span).float-left{display:block;float:left;margin-right:13px;overflow:hidden}div#\:\$p>svg>foreignObject>section :is(span,marp-span).float-left :is(span,marp-span){margin:13px 0 0}div#\:\$p>svg>foreignObject>section :is(span,marp-span).float-right{display:block;float:right;margin-left:13px;overflow:hidden}div#\:\$p>svg>foreignObject>section :is(span,marp-span).float-right>:is(span,marp-span){display:block;margin:13px auto 0;overflow:hidden;text-align:right}div#\:\$p>svg>foreignObject>section code,div#\:\$p>svg>foreignObject>section tt{background-color:var(--color-neutral-muted);border-radius:6px;font-size:85%;margin:0;padding:.2em .4em;white-space:break-spaces}div#\:\$p>svg>foreignObject>section code br,div#\:\$p>svg>foreignObject>section tt br{display:none}div#\:\$p>svg>foreignObject>section del code{text-decoration:inherit}div#\:\$p>svg>foreignObject>section samp{font-size:85%}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) code{font-size:100%}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre)>code{background:transparent;border:0;margin:0;padding:0;white-space:pre;word-break:normal}div#\:\$p>svg>foreignObject>section .highlight{margin-bottom:16px}div#\:\$p>svg>foreignObject>section .highlight :is(pre,marp-pre){margin-bottom:0;word-break:normal}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre){background-color:var(--color-canvas-subtle);border-radius:6px;color:var(--color-fg-default);font-size:85%;line-height:1.45;overflow:auto;padding:16px}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) code,div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) tt{word-wrap:normal;background-color:transparent;border:0;display:inline;line-height:inherit;margin:0;max-width:auto;overflow:visible;padding:0}div#\:\$p>svg>foreignObject>section .csv-data td,div#\:\$p>svg>foreignObject>section .csv-data th{font-size:12px;line-height:1;overflow:hidden;padding:5px;text-align:left;white-space:nowrap}div#\:\$p>svg>foreignObject>section .csv-data .blob-num{background:var(--color-canvas-default);border:0;padding:10px 8px 9px;text-align:right}div#\:\$p>svg>foreignObject>section .csv-data tr{border-top:0}div#\:\$p>svg>foreignObject>section .csv-data th{background:var(--color-canvas-subtle);border-top:0;font-weight:var(--base-text-weight-semibold,600)}div#\:\$p>svg>foreignObject>section [data-footnote-ref]:before{content:"["}div#\:\$p>svg>foreignObject>section [data-footnote-ref]:after{content:"]"}div#\:\$p>svg>foreignObject>section .footnotes{border-top:1px solid var(--color-border-default);color:var(--color-fg-muted);font-size:12px}div#\:\$p>svg>foreignObject>section div#\:\$p>svg>foreignObject>section section.footnotes{--marpit-root-font-size:12px}div#\:\$p>svg>foreignObject>section .footnotes ol{padding-left:16px}div#\:\$p>svg>foreignObject>section .footnotes ol ul{display:inline-block;margin-top:16px;padding-left:16px}div#\:\$p>svg>foreignObject>section .footnotes li{position:relative}div#\:\$p>svg>foreignObject>section .footnotes li:target:before{border:2px solid var(--color-accent-emphasis);border-radius:6px;bottom:-8px;content:"";left:-24px;pointer-events:none;position:absolute;right:-8px;top:-8px}div#\:\$p>svg>foreignObject>section .footnotes li:target{color:var(--color-fg-default)}div#\:\$p>svg>foreignObject>section .footnotes .data-footnote-backref g-emoji{font-family:monospace}div#\:\$p>svg>foreignObject>section .pl-c{color:var(--color-prettylights-syntax-comment)}div#\:\$p>svg>foreignObject>section .pl-c1,div#\:\$p>svg>foreignObject>section .pl-s .pl-v{color:var(--color-prettylights-syntax-constant)}div#\:\$p>svg>foreignObject>section .pl-e,div#\:\$p>svg>foreignObject>section .pl-en{color:var(--color-prettylights-syntax-entity)}div#\:\$p>svg>foreignObject>section .pl-s .pl-s1,div#\:\$p>svg>foreignObject>section .pl-smi{color:var(--color-prettylights-syntax-storage-modifier-import)}div#\:\$p>svg>foreignObject>section .pl-ent{color:var(--color-prettylights-syntax-entity-tag)}div#\:\$p>svg>foreignObject>section .pl-k{color:var(--color-prettylights-syntax-keyword)}div#\:\$p>svg>foreignObject>section .pl-pds,div#\:\$p>svg>foreignObject>section .pl-s,div#\:\$p>svg>foreignObject>section .pl-s .pl-pse .pl-s1,div#\:\$p>svg>foreignObject>section .pl-sr,div#\:\$p>svg>foreignObject>section .pl-sr .pl-cce,div#\:\$p>svg>foreignObject>section .pl-sr .pl-sra,div#\:\$p>svg>foreignObject>section .pl-sr .pl-sre{color:var(--color-prettylights-syntax-string)}div#\:\$p>svg>foreignObject>section .pl-smw,div#\:\$p>svg>foreignObject>section .pl-v{color:var(--color-prettylights-syntax-variable)}div#\:\$p>svg>foreignObject>section .pl-bu{color:var(--color-prettylights-syntax-brackethighlighter-unmatched)}div#\:\$p>svg>foreignObject>section .pl-ii{background-color:var(--color-prettylights-syntax-invalid-illegal-bg);color:var(--color-prettylights-syntax-invalid-illegal-text)}div#\:\$p>svg>foreignObject>section .pl-c2{background-color:var(--color-prettylights-syntax-carriage-return-bg);color:var(--color-prettylights-syntax-carriage-return-text)}div#\:\$p>svg>foreignObject>section .pl-sr .pl-cce{color:var(--color-prettylights-syntax-string-regexp);font-weight:700}div#\:\$p>svg>foreignObject>section .pl-ml{color:var(--color-prettylights-syntax-markup-list)}div#\:\$p>svg>foreignObject>section .pl-mh,div#\:\$p>svg>foreignObject>section .pl-mh .pl-en,div#\:\$p>svg>foreignObject>section .pl-ms{color:var(--color-prettylights-syntax-markup-heading);font-weight:700}div#\:\$p>svg>foreignObject>section .pl-mi{color:var(--color-prettylights-syntax-markup-italic);font-style:italic}div#\:\$p>svg>foreignObject>section .pl-mb{color:var(--color-prettylights-syntax-markup-bold);font-weight:700}div#\:\$p>svg>foreignObject>section .pl-md{background-color:var(--color-prettylights-syntax-markup-deleted-bg);color:var(--color-prettylights-syntax-markup-deleted-text)}div#\:\$p>svg>foreignObject>section .pl-mi1{background-color:var(--color-prettylights-syntax-markup-inserted-bg);color:var(--color-prettylights-syntax-markup-inserted-text)}div#\:\$p>svg>foreignObject>section .pl-mc{background-color:var(--color-prettylights-syntax-markup-changed-bg);color:var(--color-prettylights-syntax-markup-changed-text)}div#\:\$p>svg>foreignObject>section .pl-mi2{background-color:var(--color-prettylights-syntax-markup-ignored-bg);color:var(--color-prettylights-syntax-markup-ignored-text)}div#\:\$p>svg>foreignObject>section .pl-mdr{color:var(--color-prettylights-syntax-meta-diff-range);font-weight:700}div#\:\$p>svg>foreignObject>section .pl-ba{color:var(--color-prettylights-syntax-brackethighlighter-angle)}div#\:\$p>svg>foreignObject>section .pl-sg{color:var(--color-prettylights-syntax-sublimelinter-gutter-mark)}div#\:\$p>svg>foreignObject>section .pl-corl{color:var(--color-prettylights-syntax-constant-other-reference-link);text-decoration:underline}div#\:\$p>svg>foreignObject>section g-emoji{display:inline-block;font-family:Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-size:1em;font-style:normal!important;font-weight:var(--base-text-weight-normal,400);line-height:1;min-width:1ch;vertical-align:-.075em}div#\:\$p>svg>foreignObject>section g-emoji img{height:1em;width:1em}div#\:\$p>svg>foreignObject>section .task-list-item{list-style-type:none}div#\:\$p>svg>foreignObject>section .task-list-item label{font-weight:var(--base-text-weight-normal,400)}div#\:\$p>svg>foreignObject>section .task-list-item.enabled label{cursor:pointer}div#\:\$p>svg>foreignObject>section .task-list-item+.task-list-item{margin-top:4px}div#\:\$p>svg>foreignObject>section .task-list-item .handle{display:none}div#\:\$p>svg>foreignObject>section .task-list-item-checkbox{margin:0 .2em .25em -1.4em;vertical-align:middle}div#\:\$p>svg>foreignObject>section .contains-task-list:dir(rtl) .task-list-item-checkbox{margin:0 -1.6em .25em .2em}div#\:\$p>svg>foreignObject>section .contains-task-list{position:relative}div#\:\$p>svg>foreignObject>section .contains-task-list:focus-within .task-list-item-convert-container,div#\:\$p>svg>foreignObject>section .contains-task-list:hover .task-list-item-convert-container{clip:auto;display:block;height:24px;overflow:visible;width:auto}div#\:\$p>svg>foreignObject>section ::-webkit-calendar-picker-indicator{filter:invert(50%)}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1){color:var(--h1-color);font-size:1.6em}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1),div#\:\$p>svg>foreignObject>section :is(h2,marp-h2){border-bottom:none}div#\:\$p>svg>foreignObject>section :is(h2,marp-h2){font-size:1.3em}div#\:\$p>svg>foreignObject>section :is(h3,marp-h3){font-size:1.1em}div#\:\$p>svg>foreignObject>section :is(h4,marp-h4){font-size:1.05em}div#\:\$p>svg>foreignObject>section :is(h5,marp-h5){font-size:1em}div#\:\$p>svg>foreignObject>section :is(h6,marp-h6){font-size:.9em}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1) strong,div#\:\$p>svg>foreignObject>section :is(h2,marp-h2) strong,div#\:\$p>svg>foreignObject>section :is(h3,marp-h3) strong,div#\:\$p>svg>foreignObject>section :is(h4,marp-h4) strong,div#\:\$p>svg>foreignObject>section :is(h5,marp-h5) strong,div#\:\$p>svg>foreignObject>section :is(h6,marp-h6) strong{color:var(--heading-strong-color);font-weight:inherit}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1)::part(auto-scaling),div#\:\$p>svg>foreignObject>section :is(h2,marp-h2)::part(auto-scaling),div#\:\$p>svg>foreignObject>section :is(h3,marp-h3)::part(auto-scaling),div#\:\$p>svg>foreignObject>section :is(h4,marp-h4)::part(auto-scaling),div#\:\$p>svg>foreignObject>section :is(h5,marp-h5)::part(auto-scaling),div#\:\$p>svg>foreignObject>section :is(h6,marp-h6)::part(auto-scaling){max-height:563px}div#\:\$p>svg>foreignObject>section hr{height:0;padding-top:.25em}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre){border:1px solid var(--color-border-default);line-height:1.15;overflow:visible}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre)::part(auto-scaling){max-height:529px}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs){color:var(--color-prettylights-syntax-storage-modifier-import)}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-doctag),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-keyword),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-meta .hljs-keyword),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-template-tag),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-template-variable),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-type),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-variable.language_){color:var(--color-prettylights-syntax-keyword)}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-title),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-title.class_),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-title.class_.inherited__),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-title.function_){color:var(--color-prettylights-syntax-entity)}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-attr),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-attribute),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-literal),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-meta),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-number),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-operator),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-selector-attr),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-selector-class),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-selector-id),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-variable){color:var(--color-prettylights-syntax-constant)}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-meta .hljs-string),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-regexp),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-string){color:var(--color-prettylights-syntax-string)}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-built_in),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-symbol){color:var(--color-prettylights-syntax-variable)}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-code),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-comment),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-formula){color:var(--color-prettylights-syntax-comment)}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-name),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-quote),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-selector-pseudo),div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-selector-tag){color:var(--color-prettylights-syntax-entity-tag)}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-subst){color:var(--color-prettylights-syntax-storage-modifier-import)}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-section){color:var(--color-prettylights-syntax-markup-heading);font-weight:700}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-bullet){color:var(--color-prettylights-syntax-markup-list)}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-emphasis){color:var(--color-prettylights-syntax-markup-italic);font-style:italic}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-strong){color:var(--color-prettylights-syntax-markup-bold);font-weight:700}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-addition){background-color:var(--color-prettylights-syntax-markup-inserted-bg);color:var(--color-prettylights-syntax-markup-inserted-text)}div#\:\$p>svg>foreignObject>section :is(pre,marp-pre) :where(.hljs-deletion){background-color:var(--color-prettylights-syntax-markup-deleted-bg);color:var(--color-prettylights-syntax-markup-deleted-text)}div#\:\$p>svg>foreignObject>section footer,div#\:\$p>svg>foreignObject>section header{color:var(--header-footer-color);font-size:18px;left:30px;margin:0;position:absolute}div#\:\$p>svg>foreignObject>section header{top:21px}div#\:\$p>svg>foreignObject>section footer{bottom:21px}div#\:\$p>svg>foreignObject>section{--h1-color:#246;--header-footer-color:hsla(0,0%,40%,.75);--heading-strong-color:#48c;--paginate-color:#777;align-items:stretch;display:flex;flex-flow:column nowrap;font-size:29px;height:720px;justify-content:center;padding:78.5px;width:1280px}div#\:\$p>svg>foreignObject>section{--marpit-root-font-size:29px}div#\:\$p>svg>foreignObject>section:where(.invert){--h1-color:#cee7ff;--header-footer-color:hsla(0,0%,60%,.75);--heading-strong-color:#7bf;--paginate-color:#999}div#\:\$p>svg>foreignObject>section>:last-child,div#\:\$p>svg>foreignObject>section[data-footer]>:nth-last-child(2){margin-bottom:0}div#\:\$p>svg>foreignObject>section>:first-child,div#\:\$p>svg>foreignObject>section>header:first-child+*{margin-top:0}div#\:\$p>svg>foreignObject>section:after{bottom:21px;color:var(--paginate-color);font-size:24px;padding:0;position:absolute;right:30px}div#\:\$p>svg>foreignObject>section:after{--marpit-root-font-size:24px}div#\:\$p>svg>foreignObject>section[data-color] :is(h1,marp-h1),div#\:\$p>svg>foreignObject>section[data-color] :is(h2,marp-h2),div#\:\$p>svg>foreignObject>section[data-color] :is(h3,marp-h3),div#\:\$p>svg>foreignObject>section[data-color] :is(h4,marp-h4),div#\:\$p>svg>foreignObject>section[data-color] :is(h5,marp-h5),div#\:\$p>svg>foreignObject>section[data-color] :is(h6,marp-h6){color:currentcolor}div#\:\$p>svg>foreignObject>:where(section){container-type:size}div#\:\$p>svg>foreignObject>section mjx-container[jax=SVG]{direction:ltr}div#\:\$p>svg>foreignObject>section mjx-container[jax=SVG]>svg{overflow:visible;min-height:1px;min-width:1px}div#\:\$p>svg>foreignObject>section mjx-container[jax=SVG]>svg a{fill:blue;stroke:blue}div#\:\$p>svg>foreignObject>section mjx-container[jax=SVG][display=true]{display:block;text-align:center;margin:1em 0}div#\:\$p>svg>foreignObject>section mjx-container[jax=SVG][display=true][width=full]{display:flex}div#\:\$p>svg>foreignObject>section mjx-container[jax=SVG][justify=left]{text-align:left}div#\:\$p>svg>foreignObject>section mjx-container[jax=SVG][justify=right]{text-align:right}div#\:\$p>svg>foreignObject>section g[data-mml-node=merror]>g{fill:red;stroke:red}div#\:\$p>svg>foreignObject>section g[data-mml-node=merror]>rect[data-background]{fill:yellow;stroke:none}div#\:\$p>svg>foreignObject>section g[data-mml-node=mtable]>line[data-line],div#\:\$p>svg>foreignObject>section svg[data-table]>g>line[data-line]{stroke-width:70px;fill:none}div#\:\$p>svg>foreignObject>section g[data-mml-node=mtable]>rect[data-frame],div#\:\$p>svg>foreignObject>section svg[data-table]>g>rect[data-frame]{stroke-width:70px;fill:none}div#\:\$p>svg>foreignObject>section g[data-mml-node=mtable]>.mjx-dashed,div#\:\$p>svg>foreignObject>section svg[data-table]>g>.mjx-dashed{stroke-dasharray:140}div#\:\$p>svg>foreignObject>section g[data-mml-node=mtable]>.mjx-dotted,div#\:\$p>svg>foreignObject>section svg[data-table]>g>.mjx-dotted{stroke-linecap:round;stroke-dasharray:0,140}div#\:\$p>svg>foreignObject>section g[data-mml-node=mtable]>g>svg{overflow:visible}div#\:\$p>svg>foreignObject>section [jax=SVG] mjx-tool{display:inline-block;position:relative;width:0;height:0}div#\:\$p>svg>foreignObject>section [jax=SVG] mjx-tool>mjx-tip{position:absolute;top:0;left:0}div#\:\$p>svg>foreignObject>section mjx-tool>mjx-tip{display:inline-block;padding:.2em;border:1px solid #888;font-size:70%;background-color:#F8F8F8;color:black;box-shadow:2px 2px 5px #AAAAAA}div#\:\$p>svg>foreignObject>section g[data-mml-node=maction][data-toggle]{cursor:pointer}div#\:\$p>svg>foreignObject>section mjx-status{display:block;position:fixed;left:1em;bottom:1em;min-width:25%;padding:.2em .4em;border:1px solid #888;font-size:90%;background-color:#F8F8F8;color:black}div#\:\$p>svg>foreignObject>section foreignObject[data-mjx-xml]{font-family:initial;line-height:normal;overflow:visible}div#\:\$p>svg>foreignObject>section mjx-container[jax=SVG] path[data-c],div#\:\$p>svg>foreignObject>section mjx-container[jax=SVG] use[data-c]{stroke-width:3}@media print{div#\:\$p>svg>foreignObject>section mjx-container[jax=SVG] path[data-c],div#\:\$p>svg>foreignObject>section mjx-container[jax=SVG] use[data-c]{stroke-width:0}}div#\:\$p>svg>foreignObject>section img[data-marp-twemoji]{background:transparent;height:1em;margin:0 .05em 0 .1em;vertical-align:-.1em;width:1em}

/*!
 * @theme dae
 * @author ava
 * @auto-scaling fittingHeader,math
 * @size 16:9 1920px 1080px
 */div#\:\$p>svg>foreignObject>:where(section):not([root]){--text-color:#222222;--title-color:#ff1234;--background-color:#ebebeb;--title-slide-text-color:#ebebeb}div#\:\$p>svg>foreignObject>section{color:var(--text-color);background-color:var(--background-color);width:1920px;height:1080px;padding-top:175px;justify-content:start;font-size:35px}div#\:\$p>svg>foreignObject>section{--marpit-root-font-size:35px}div#\:\$p>svg>foreignObject>section header{font-family:'Chakra Petch',sans-serif;color:var(--text-color);background:linear-gradient(110deg,var(--title-color),20px,#0000 0);position:absolute;left:0px;top:0px;font-size:25pt;padding-left:30px}div#\:\$p>svg>foreignObject>section:after{font-family:'Chakra Petch',sans-serif;font-weight:bold;font-size:30px;color:var(--title-color);background:linear-gradient(-70deg,var(--text-color),70px,#0000 0);position:absolute;right:0px;bottom:0px;padding-bottom:18px;padding-right:15px;padding-top:150px;padding-left:100px}div#\:\$p>svg>foreignObject>section:after{--marpit-root-font-size:30px}div#\:\$p>svg>foreignObject>section footer{color:var(--title-color);font-family:'Chakra Petch',sans-serif;font-weight:bold;font-size:15px;position:absolute;left:0px;bottom:0px;padding:10px;padding-left:2%}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1){font-family:'Chakra Petch',sans-serif;font-weight:normal;color:var(--title-color) ;position:absolute;top:50px;left:35px;width:95%;font-size:50pt;padding-top:5px;padding-bottom:5px}

/* to add a center option to images */div#\:\$p>svg>foreignObject>section img[alt~=center]{display:block;margin:0 auto}div#\:\$p>svg>foreignObject>section img{background-color:var(--main-color)}div#\:\$p>svg>foreignObject>section .columns{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:calc(var(--marpit-root-font-size, 1rem) * 1)}div#\:\$p>svg>foreignObject>section.title-slide{background-image:url('https://raw.githubusercontent.com/avadae/marp-themes/main/img/wallpaper01.jpg');background-color:var(--main-color);color:var(--title-slide-text-color);padding:0px;display:block;grid-template:initial}div#\:\$p>svg>foreignObject>section.title-slide :is(h1,marp-h1){color:var(--title-slide-text-color);font-size:60px;position:absolute;top:900px;left:0px;margin-left:360px;width:1200px;text-align:center;background-color:rgba(10,10,10,0.6)}div#\:\$p>svg>foreignObject>section.title-slide :is(h2,marp-h2){font-family:'Chakra Petch',sans-serif;font-weight:normal;color:var(--main-color);background:linear-gradient(110deg,var(--title-color),280px,#0000 0);font-size:60px;position:absolute;top:20px;left:0px;width:1200px;padding:10px;padding-left:20px}div#\:\$p>svg>foreignObject>section.title-slide-v2023{background-image:url('https://raw.githubusercontent.com/avadae/marp-themes/main/img/wallpaper02.jpg');background-color:var(--main-color);color:var(--title-slide-text-color);padding:0px;display:block;grid-template:initial}div#\:\$p>svg>foreignObject>section.title-slide-v2023 :is(h1,marp-h1){color:var(--title-slide-text-color);font-size:60px;position:absolute;top:800px;left:0px;margin-left:360px;width:1200px;text-align:center;background-color:rgba(10,10,10,0.6)}div#\:\$p>svg>foreignObject>section.title-slide-v2023 :is(h2,marp-h2){font-family:'Chakra Petch',sans-serif;font-weight:normal;color:var(--main-color);background:linear-gradient(110deg,var(--title-color),280px,#0000 0);font-size:60px;position:absolute;top:20px;left:0px;width:1200px;padding:10px;padding-left:20px}div#\:\$p>svg>foreignObject>section.title-slide-v2017{background-image:url('https://raw.githubusercontent.com/avadae/marp-themes/main/img/wallpaper00.jpg');background-color:var(--main-color);color:var(--title-slide-text-color);padding:0px;display:block;grid-template:initial}div#\:\$p>svg>foreignObject>section.title-slide-v2017 :is(h1,marp-h1){color:var(--title-slide-text-color);font-size:60px;position:absolute;top:800px;left:0px;margin-left:360px;width:1200px;text-align:center;background-color:rgba(10,10,10,0.6)}div#\:\$p>svg>foreignObject>section.title-slide-v2017 :is(h2,marp-h2){font-family:'Chakra Petch',sans-serif;font-weight:normal;color:var(--main-color);background:linear-gradient(110deg,var(--title-color),280px,#0000 0);font-size:60px;position:absolute;top:20px;left:0px;width:1200px;padding:10px;padding-left:20px}div#\:\$p>svg>foreignObject>section strong{color:var(--title-color)}div#\:\$p>svg>foreignObject>section :is(h1,marp-h1) strong{color:var(--title-color);font-weight:800}div#\:\$p>svg>foreignObject>section :is(h6,marp-h6) strong{color:var(--title-color)}div#\:\$p>svg>foreignObject>section :is(h2,marp-h2) strong{color:var(--title-color)}div#\:\$p>svg>foreignObject>section :is(h3,marp-h3) strong{color:var(--title-color)}div#\:\$p>svg>foreignObject>section :is(h4,marp-h4) strong{color:var(--title-color)}div#\:\$p>svg>foreignObject>section :is(h5,marp-h5) strong{color:var(--title-color)}div#\:\$p>svg>foreignObject>section[data-marpit-scope-bygqidEK] code{font-size:35px}div#\:\$p>svg>foreignObject>section[data-marpit-scope-2ELIzXAh] code{font-size:35px}div#\:\$p>svg>foreignObject>section[data-marpit-scope-kUwsEuN3] code{font-size:35px}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]{columns:initial!important;display:block!important;padding:0!important}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]:after,div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]:before,div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=content]:after,div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=content]:before{display:none!important}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container]{all:initial;display:flex;flex-direction:row;height:100%;overflow:hidden;width:100%}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container][data-marpit-advanced-background-direction=vertical]{flex-direction:column}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background][data-marpit-advanced-background-split]>div[data-marpit-advanced-background-container]{width:var(--marpit-advanced-background-split,50%)}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background][data-marpit-advanced-background-split=right]>div[data-marpit-advanced-background-container]{margin-left:calc(100% - var(--marpit-advanced-background-split, 50%))}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container]>figure{all:initial;background-position:center;background-repeat:no-repeat;background-size:cover;flex:auto;margin:0}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=background]>div[data-marpit-advanced-background-container]>figure>figcaption{position:absolute;border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;white-space:nowrap;width:1px}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=content],div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=pseudo]{background:transparent!important}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background=pseudo],div#\:\$p>svg[data-marpit-svg]>foreignObject[data-marpit-advanced-background=pseudo]{pointer-events:none!important}div#\:\$p>svg>foreignObject>section[data-marpit-advanced-background-split]{width:100%;height:100%}</style></head><body><div class="bespoke-marp-osc"><button data-bespoke-marp-osc="prev" tabindex="-1" title="Previous slide">Previous slide</button><span data-bespoke-marp-osc="page"></span><button data-bespoke-marp-osc="next" tabindex="-1" title="Next slide">Next slide</button><button data-bespoke-marp-osc="fullscreen" tabindex="-1" title="Toggle fullscreen (f)">Toggle fullscreen</button><button data-bespoke-marp-osc="presenter" tabindex="-1" title="Open presenter view (p)">Open presenter view</button></div><div id=":$p"><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="1" data-footer="Programming 4" data-class="title-slide-v2023" data-theme="dae" lang="en-US" class="title-slide-v2023" style="--footer:Programming 4;--class:title-slide-v2023;--theme:dae;">
<h1 id="memory">Memory</h1>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section data-footer="Programming 4" data-header="Memory types" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="2" style="--footer:Programming 4;--header:Memory types;--paginate:true;--theme:dae;--marpit-advanced-background-split:60%;" data-marpit-pagination-total="57" data-marpit-advanced-background="background" data-marpit-advanced-background-split="right"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;ssdhdd.png&quot;);background-size:100% auto;"></figure></div></section></foreignObject><foreignObject width="40%" height="1080"><section id="2" data-footer="Programming 4" data-header="Memory types" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="2" style="--footer:Programming 4;--header:Memory types;--paginate:true;--theme:dae;--marpit-advanced-background-split:60%;" data-marpit-pagination-total="57" data-marpit-advanced-background="content" data-marpit-advanced-background-split="right">
<header>Memory types</header>

<h1 id="persistent-memory">Persistent memory</h1>
<ul>
<li>HDD</li>
<li>SSD</li>
<li>Network Drives</li>
<li>Removable Drives</li>
</ul>
<footer>Programming 4</footer>
</section>
</foreignObject><foreignObject width="1920" height="1080" data-marpit-advanced-background="pseudo"><section data-footer="Programming 4" data-header="Memory types" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="2" style="" data-marpit-pagination-total="57" data-marpit-advanced-background="pseudo" data-marpit-advanced-background-split="right"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section data-footer="Programming 4" data-header="Memory types" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="3" style="--footer:Programming 4;--header:Memory types;--paginate:true;--theme:dae;--marpit-advanced-background-split:50%;" data-marpit-pagination-total="57" data-marpit-advanced-background="background" data-marpit-advanced-background-split="right"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;ssdhdd2.png&quot;);background-size:80% auto;"></figure></div></section></foreignObject><foreignObject width="50%" height="1080"><section id="3" data-footer="Programming 4" data-header="Memory types" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="3" style="--footer:Programming 4;--header:Memory types;--paginate:true;--theme:dae;--marpit-advanced-background-split:50%;" data-marpit-pagination-total="57" data-marpit-advanced-background="content" data-marpit-advanced-background-split="right">
<header>Memory types</header>

<h1 id="persistent-memory-1">Persistent memory</h1>
<ul>
<li>HDD</li>
<li>SSD</li>
<li>Network Drives</li>
<li>Removable Drives</li>
</ul>
<footer>Programming 4</footer>
</section>
</foreignObject><foreignObject width="1920" height="1080" data-marpit-advanced-background="pseudo"><section data-footer="Programming 4" data-header="Memory types" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="3" style="" data-marpit-pagination-total="57" data-marpit-advanced-background="pseudo" data-marpit-advanced-background-split="right"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section data-footer="Programming 4" data-header="Memory types" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="4" style="--footer:Programming 4;--header:Memory types;--paginate:true;--theme:dae;--marpit-advanced-background-split:50%;" data-marpit-pagination-total="57" data-marpit-advanced-background="background" data-marpit-advanced-background-split="right"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;ram.png&quot;);background-size:90% auto;"></figure></div></section></foreignObject><foreignObject width="50%" height="1080"><section id="4" data-footer="Programming 4" data-header="Memory types" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="4" style="--footer:Programming 4;--header:Memory types;--paginate:true;--theme:dae;--marpit-advanced-background-split:50%;" data-marpit-pagination-total="57" data-marpit-advanced-background="content" data-marpit-advanced-background-split="right">
<header>Memory types</header>

<h1 id="temporary-memory">Temporary memory</h1>
<ul>
<li>RAM memory
<ul>
<li>Fast</li>
</ul>
</li>
</ul>
<footer>Programming 4</footer>
</section>
</foreignObject><foreignObject width="1920" height="1080" data-marpit-advanced-background="pseudo"><section data-footer="Programming 4" data-header="Memory types" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="4" style="" data-marpit-pagination-total="57" data-marpit-advanced-background="pseudo" data-marpit-advanced-background-split="right"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section data-footer="Programming 4" data-header="Memory types" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="5" style="--footer:Programming 4;--header:Memory types;--paginate:true;--theme:dae;--marpit-advanced-background-split:50%;" data-marpit-pagination-total="57" data-marpit-advanced-background="background" data-marpit-advanced-background-split="right"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;https://en.wikichip.org/w/images/thumb/8/86/haswell_%28octa-core%29_die_shot.png/650px-haswell_%28octa-core%29_die_shot.png&quot;);background-size:80% auto;filter:drop-shadow(0 0 10px #000);"></figure></div></section></foreignObject><foreignObject width="50%" height="1080"><section id="5" data-footer="Programming 4" data-header="Memory types" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="5" style="--footer:Programming 4;--header:Memory types;--paginate:true;--theme:dae;--marpit-advanced-background-split:50%;" data-marpit-pagination-total="57" data-marpit-advanced-background="content" data-marpit-advanced-background-split="right">
<header>Memory types</header>

<h1 id="temporary-memory-1">Temporary memory</h1>
<ul>
<li>RAM memory
<ul>
<li>Fast</li>
</ul>
</li>
<li>CPU cache
<ul>
<li>L1, L2 and L3</li>
<li>Superfast!</li>
</ul>
</li>
<li>CPU registers
<ul>
<li>Fastest</li>
</ul>
</li>
</ul>
<footer>Programming 4</footer>
</section>
</foreignObject><foreignObject width="1920" height="1080" data-marpit-advanced-background="pseudo"><section data-footer="Programming 4" data-header="Memory types" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="5" style="" data-marpit-pagination-total="57" data-marpit-advanced-background="pseudo" data-marpit-advanced-background-split="right"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="6" data-footer="Programming 4" data-header="Memory types" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="6" style="--footer:Programming 4;--header:Memory types;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Memory types</header>
<p><img src="https://images.bit-tech.net/content_images/2007/11/the_secrets_of_pc_memory_part_1/hei.png" alt="center" style="height:800px;filter:drop-shadow(0 0 10px #000);" /></p>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="7" data-footer="Programming 4" data-header="CPU registers" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="7" style="--footer:Programming 4;--header:CPU registers;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>CPU registers</header>

<h1 id="cpu-registers">CPU registers</h1>
<div class="columns"><div>
<p>Lets start at the top of that triangle</p>
<pre><code class="language-cpp"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-type">int</span> total = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; ++i)
  {
      total += i;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
</div><div>
<pre><code>main:
  push rbp
  mov rbp, rsp
  mov DWORD PTR [rbp-4], 0
  mov DWORD PTR [rbp-8], 0
  jmp .L2
.L3:
  mov eax, DWORD PTR [rbp-8]
  add DWORD PTR [rbp-4], eax
  add DWORD PTR [rbp-8], 1
.L2:
  cmp DWORD PTR [rbp-8], 9
  jle .L3
  mov eax, 0
  pop rbp
  ret
</code></pre>
</div></div>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section data-footer="Programming 4" data-header="CPU registers" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="8" style="--footer:Programming 4;--header:CPU registers;--paginate:true;--theme:dae;--marpit-advanced-background-split:40%;" data-marpit-pagination-total="57" data-marpit-advanced-background="background" data-marpit-advanced-background-split="right"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;registers.png&quot;);background-size:95% auto;"></figure></div></section></foreignObject><foreignObject width="60%" height="1080"><section id="8" data-footer="Programming 4" data-header="CPU registers" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="8" style="--footer:Programming 4;--header:CPU registers;--paginate:true;--theme:dae;--marpit-advanced-background-split:40%;" data-marpit-pagination-total="57" data-marpit-advanced-background="content" data-marpit-advanced-background-split="right">
<header>CPU registers</header>
<h1 id="cpu-registers-1">CPU registers</h1>
<p><br />
So all a CPU does is</p>
<ul>
<li>fetch data from memory into registers</li>
<li>perform some calculation (like <code>add</code> or <code>mul</code>)</li>
<li>store data from registers into memory</li>
</ul>
<p>Fetching and storing from memory into registers <strong>is slow!</strong></p>
<footer>Programming 4</footer>
</section>
</foreignObject><foreignObject width="1920" height="1080" data-marpit-advanced-background="pseudo"><section data-footer="Programming 4" data-header="CPU registers" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="8" style="" data-marpit-pagination-total="57" data-marpit-advanced-background="pseudo" data-marpit-advanced-background-split="right"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="9" data-footer="Programming 4" data-header="CPU registers" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="9" style="--footer:Programming 4;--header:CPU registers;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>CPU registers</header>
<h1 id="cpu-speed-vs-memory-speed">CPU speed vs memory speed</h1>
<p><img src="https://gameprogrammingpatterns.com/images/data-locality-chart.png" alt="center" style="height:800px;filter:drop-shadow(0 0 10px #000);" /></p>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="10" style="--footer:Programming 4;--header:Cache;--paginate:true;--theme:dae;--marpit-advanced-background-split:40%;" data-marpit-pagination-total="57" data-marpit-advanced-background="background" data-marpit-advanced-background-split="right"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;https://techgage.com/wp-content/uploads/2014/08/Intel-Haswell-E-Processor-Die-Shot.jpg&quot;);background-size:90% auto;filter:drop-shadow(0 0 10px #000);"></figure></div></section></foreignObject><foreignObject width="60%" height="1080"><section id="10" data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="10" style="--footer:Programming 4;--header:Cache;--paginate:true;--theme:dae;--marpit-advanced-background-split:40%;" data-marpit-pagination-total="57" data-marpit-advanced-background="content" data-marpit-advanced-background-split="right">
<header>Cache</header>

<h1 id="cpu-cache">CPU cache</h1>
<p>Because memory access is slow, we <strong>cache</strong> it.</p>
<ul>
<li>Keep local copies of main memory in the cache</li>
</ul>
<p>The cache is faster</p>
<ul>
<li>More expensive memory</li>
<li>Closer to the CPU</li>
</ul>
<p>If data requested by the CPU is in the cache -&gt; Use it!</p>
<ul>
<li>This is called a <strong>cache hit</strong></li>
</ul>
<p>If the data is not in the cache, fetch it from memory</p>
<ul>
<li>This is called a <strong>cache miss</strong></li>
</ul>
<footer>Programming 4</footer>
</section>
</foreignObject><foreignObject width="1920" height="1080" data-marpit-advanced-background="pseudo"><section data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="10" style="" data-marpit-pagination-total="57" data-marpit-advanced-background="pseudo" data-marpit-advanced-background-split="right"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="11" data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="11" style="--footer:Programming 4;--header:Cache;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Cache</header>
<h1 id="cache-lines">Cache lines</h1>
<p>When we do suffer a cache miss, we must fetch</p>
<p>We fetch an entire “line”</p>
<ul>
<li>Instead of loading a single integer, load a larger chunk of memory</li>
<li>Often we’ll need that extra data too, later in the program</li>
<li>Resulting in more cache hits.</li>
<li>&quot;Locality of reference&quot;</li>
</ul>
<p><img src="https://gameprogrammingpatterns.com/images/data-locality-cache-line.png" alt="center" style="filter:drop-shadow(0 0 10px #000);" /></p>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="12" style="--footer:Programming 4;--header:Cache;--paginate:true;--theme:dae;" data-marpit-pagination-total="57" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;cache_step1.svg&quot;);background-size:80% auto;"></figure></div></section></foreignObject><foreignObject width="1920" height="1080"><section id="12" data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="12" style="--footer:Programming 4;--header:Cache;--paginate:true;--theme:dae;" data-marpit-pagination-total="57" data-marpit-advanced-background="content">
<header>Cache</header>
<h1 id="cpu-cache-1">CPU cache</h1>
<footer>Programming 4</footer>
</section>
</foreignObject><foreignObject width="1920" height="1080" data-marpit-advanced-background="pseudo"><section data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="12" style="" data-marpit-pagination-total="57" data-marpit-advanced-background="pseudo"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="13" style="--footer:Programming 4;--header:Cache;--paginate:true;--theme:dae;" data-marpit-pagination-total="57" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;cache_step2.svg&quot;);background-size:80% auto;"></figure></div></section></foreignObject><foreignObject width="1920" height="1080"><section id="13" data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="13" style="--footer:Programming 4;--header:Cache;--paginate:true;--theme:dae;" data-marpit-pagination-total="57" data-marpit-advanced-background="content">
<header>Cache</header>
<h1 id="cpu-cache-2">CPU cache</h1>
<p>We fetch an entire &quot;line&quot;</p>
<footer>Programming 4</footer>
</section>
</foreignObject><foreignObject width="1920" height="1080" data-marpit-advanced-background="pseudo"><section data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="13" style="" data-marpit-pagination-total="57" data-marpit-advanced-background="pseudo"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="14" style="--footer:Programming 4;--header:Cache;--paginate:true;--theme:dae;" data-marpit-pagination-total="57" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;cache_step3.svg&quot;);background-size:80% auto;"></figure></div></section></foreignObject><foreignObject width="1920" height="1080"><section id="14" data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="14" style="--footer:Programming 4;--header:Cache;--paginate:true;--theme:dae;" data-marpit-pagination-total="57" data-marpit-advanced-background="content">
<header>Cache</header>
<h1 id="cpu-cache-3">CPU cache</h1>
<p>Cache miss</p>
<footer>Programming 4</footer>
</section>
</foreignObject><foreignObject width="1920" height="1080" data-marpit-advanced-background="pseudo"><section data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="14" style="" data-marpit-pagination-total="57" data-marpit-advanced-background="pseudo"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="15" style="--footer:Programming 4;--header:Cache;--paginate:true;--theme:dae;" data-marpit-pagination-total="57" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;cache_step4.svg&quot;);background-size:80% auto;"></figure></div></section></foreignObject><foreignObject width="1920" height="1080"><section id="15" data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="15" style="--footer:Programming 4;--header:Cache;--paginate:true;--theme:dae;" data-marpit-pagination-total="57" data-marpit-advanced-background="content">
<header>Cache</header>
<h1 id="cpu-cache-4">CPU cache</h1>
<p>Cache miss</p>
<footer>Programming 4</footer>
</section>
</foreignObject><foreignObject width="1920" height="1080" data-marpit-advanced-background="pseudo"><section data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="15" style="" data-marpit-pagination-total="57" data-marpit-advanced-background="pseudo"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="16" style="--footer:Programming 4;--header:Cache;--paginate:true;--theme:dae;" data-marpit-pagination-total="57" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;cache_step5.svg&quot;);background-size:80% auto;"></figure></div></section></foreignObject><foreignObject width="1920" height="1080"><section id="16" data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="16" style="--footer:Programming 4;--header:Cache;--paginate:true;--theme:dae;" data-marpit-pagination-total="57" data-marpit-advanced-background="content">
<header>Cache</header>
<h1 id="cpu-cache-5">CPU cache</h1>
<p>Cache hit</p>
<footer>Programming 4</footer>
</section>
</foreignObject><foreignObject width="1920" height="1080" data-marpit-advanced-background="pseudo"><section data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="16" style="" data-marpit-pagination-total="57" data-marpit-advanced-background="pseudo"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="17" style="--footer:Programming 4;--header:Cache;--paginate:true;--theme:dae;" data-marpit-pagination-total="57" data-marpit-advanced-background="background"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;cache_step6.svg&quot;);background-size:80% auto;"></figure></div></section></foreignObject><foreignObject width="1920" height="1080"><section id="17" data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="17" style="--footer:Programming 4;--header:Cache;--paginate:true;--theme:dae;" data-marpit-pagination-total="57" data-marpit-advanced-background="content">
<header>Cache</header>
<h1 id="cpu-cache-6">CPU cache</h1>
<p>Cache hit</p>
<footer>Programming 4</footer>
</section>
</foreignObject><foreignObject width="1920" height="1080" data-marpit-advanced-background="pseudo"><section data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="17" style="" data-marpit-pagination-total="57" data-marpit-advanced-background="pseudo"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="18" data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="18" style="--footer:Programming 4;--header:Cache;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Cache</header>
<h1 id="question">Question</h1>
<p>Which is better?</p>
<pre><code class="language-cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">data</span>
{
  <span class="hljs-type">int</span> some_int;
  <span class="hljs-type">float</span> some_float;
};

std::vector&lt;data*&gt; data_objects;

std::vector&lt;data&gt; other_data_objects;
</code></pre>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="19" style="--footer:Programming 4;--header:Cache;--paginate:true;--theme:dae;--marpit-advanced-background-split:40%;" data-marpit-pagination-total="57" data-marpit-advanced-background="background" data-marpit-advanced-background-split="right"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;https://en.wikichip.org/w/images/thumb/8/86/haswell_%28octa-core%29_die_shot.png/650px-haswell_%28octa-core%29_die_shot.png&quot;);background-size:80% auto;filter:drop-shadow(0 0 10px #000);"></figure></div></section></foreignObject><foreignObject width="60%" height="1080"><section id="19" data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="19" style="--footer:Programming 4;--header:Cache;--paginate:true;--theme:dae;--marpit-advanced-background-split:40%;" data-marpit-pagination-total="57" data-marpit-advanced-background="content" data-marpit-advanced-background-split="right">
<header>Cache</header>

<h1 id="multiple-levels">Multiple levels</h1>
<p><strong>Hit rate</strong><br />
= how often the program hits the cache<br />
= how often can it use data that is already in the cache</p>
<p>The larger the cache, the higher the hit rate</p>
<p>But larger caches are not that close to the CPU</p>
<ul>
<li>Thus slower</li>
</ul>
<p>That’s why we have multiple levels</p>
<footer>Programming 4</footer>
</section>
</foreignObject><foreignObject width="1920" height="1080" data-marpit-advanced-background="pseudo"><section data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="19" style="" data-marpit-pagination-total="57" data-marpit-advanced-background="pseudo" data-marpit-advanced-background-split="right"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="20" data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="20" style="--footer:Programming 4;--header:Cache;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Cache</header>
<h1 id="multiple-levels-1">Multiple levels</h1>
<table>
<thead>
<tr>
<th>Action</th>
<th>time</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>L1 cache reference</td>
<td>0.5 ns</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Branch mispredict</td>
<td>5 ns</td>
<td></td>
<td></td>
</tr>
<tr>
<td>L2 cache reference</td>
<td>7 ns</td>
<td></td>
<td>14x L1 cache</td>
</tr>
<tr>
<td>Mutex lock/unlock</td>
<td>25 ns</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Main memory reference</td>
<td>100 ns</td>
<td></td>
<td>20x L2 cache, 200x L1 cache</td>
</tr>
<tr>
<td>Send 1K bytes over 1 Gbps network</td>
<td>10,000 ns</td>
<td>10 μs</td>
<td></td>
</tr>
<tr>
<td>Read 4K randomly from SSD</td>
<td>150,000 ns</td>
<td>150 μs</td>
<td>~1GB/sec SSD</td>
</tr>
<tr>
<td>Read 1 MB sequentially from memory</td>
<td>250,000 ns</td>
<td>250 μs</td>
<td></td>
</tr>
<tr>
<td>Read 1 MB sequentially from SSD</td>
<td>1,000,000 ns</td>
<td>1,000 μs = 1 ms</td>
<td>4X memory</td>
</tr>
<tr>
<td>HDD Disk seek</td>
<td>10,000,000 ns</td>
<td>10,000 μs = 10 ms</td>
<td></td>
</tr>
<tr>
<td>Read 1 MB sequentially from HDD</td>
<td>20,000,000 ns</td>
<td>20,000 μs = 20 ms</td>
<td>20X SSD</td>
</tr>
</tbody>
</table>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="21" data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="21" style="--footer:Programming 4;--header:Cache;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Cache</header>
<h1 id="i-cache-and-d-cache">I-cache and D-cache</h1>
<p>Instructions for the CPU must be fetched from memory as well</p>
<ul>
<li>Instruction cache : I-cache or I$</li>
</ul>
<p>We do not want to mix those fetches with the data fetches</p>
<ul>
<li>Hence a separate data cache : D-cache or D$</li>
</ul>
<hr />
<p>For example, which (might) be faster?</p>
<pre><code class="language-cpp"><span class="hljs-type">float</span> v = std::<span class="hljs-built_in">powf</span>(a, <span class="hljs-number">2</span>);

<span class="hljs-type">float</span> w = a * a;
</code></pre>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="22" data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="22" style="--footer:Programming 4;--header:Cache;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Cache</header>
<h1 id="multiple-levels-2">Multiple levels</h1>
<p><img src="cache_levels.svg" alt="center" style="width:1300px;" /></p>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="23" data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="23" style="--footer:Programming 4;--header:Cache;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Cache</header>
<h1 id="cache-size">Cache size</h1>
<p>Quick exercise: check yours!</p>
<ul>
<li><a href="https://docs.microsoft.com/nl-nl/sysinternals/downloads/coreinfo">https://docs.microsoft.com/nl-nl/sysinternals/downloads/coreinfo</a></li>
<li>(or simply google ‘coreinfo’)</li>
</ul>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="24" data-footer="Programming 4" data-header="Cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="24" style="--footer:Programming 4;--header:Cache;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Cache</header>
<h1 id="cache-size-1">Cache size</h1>
<p>This is mine (@desktop)</p>
<pre><code>Logical Processor to Cache Map:
*---  Data Cache          0, Level 1,   32 KB, Assoc   8, LineSize  64
*---  Instruction Cache   0, Level 1,   32 KB, Assoc   8, LineSize  64
*---  Unified Cache       0, Level 2,  256 KB, Assoc   4, LineSize  64
****  Unified Cache       1, Level 3,    6 MB, Assoc  12, LineSize  64
-*--  Data Cache          1, Level 1,   32 KB, Assoc   8, LineSize  64
-*--  Instruction Cache   1, Level 1,   32 KB, Assoc   8, LineSize  64
-*--  Unified Cache       2, Level 2,  256 KB, Assoc   4, LineSize  64
--*-  Data Cache          2, Level 1,   32 KB, Assoc   8, LineSize  64
--*-  Instruction Cache   2, Level 1,   32 KB, Assoc   8, LineSize  64
--*-  Unified Cache       3, Level 2,  256 KB, Assoc   4, LineSize  64
---*  Data Cache          3, Level 1,   32 KB, Assoc   8, LineSize  64
---*  Instruction Cache   3, Level 1,   32 KB, Assoc   8, LineSize  64
---*  Unified Cache       4, Level 2,  256 KB, Assoc   4, LineSize  64
</code></pre>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section data-marpit-scope-bygqidEK="" data-footer="Programming 4" data-header="Object layout in memory" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="25" style="--footer:Programming 4;--header:Object layout in memory;--paginate:true;--theme:dae;--marpit-advanced-background-split:50%;" data-marpit-pagination-total="57" data-marpit-advanced-background="background" data-marpit-advanced-background-split="right"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;object_layout_1.png&quot;);background-size:auto 800px;filter:drop-shadow(0 0 10px #000);"></figure></div></section></foreignObject><foreignObject width="50%" height="1080"><section id="25" data-marpit-scope-bygqidEK="" data-footer="Programming 4" data-header="Object layout in memory" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="25" style="--footer:Programming 4;--header:Object layout in memory;--paginate:true;--theme:dae;--marpit-advanced-background-split:50%;" data-marpit-pagination-total="57" data-marpit-advanced-background="content" data-marpit-advanced-background-split="right">
<header>Object layout in memory</header>

<h1 id="object-layout-in-memory">Object layout in memory</h1>
<pre><code class="language-cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Data</span>
{
    <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> m_Number{};
    <span class="hljs-type">float</span> m_Value{};
    <span class="hljs-type">bool</span> m_IsTest{};
    <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> m_AnotherNumber{ <span class="hljs-number">10</span> };
    <span class="hljs-type">char</span> m_ACharacter{ <span class="hljs-string">&#x27;a&#x27;</span> };
    <span class="hljs-type">const</span> <span class="hljs-type">char</span>* m_AString{ <span class="hljs-string">&quot;test&quot;</span> };
};
</code></pre>
<footer>Programming 4</footer>
</section>
</foreignObject><foreignObject width="1920" height="1080" data-marpit-advanced-background="pseudo"><section data-marpit-scope-bygqidEK="" data-footer="Programming 4" data-header="Object layout in memory" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="25" style="" data-marpit-pagination-total="57" data-marpit-advanced-background="pseudo" data-marpit-advanced-background-split="right"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section data-marpit-scope-2ELIzXAh="" data-footer="Programming 4" data-header="Object layout in memory" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="26" style="--footer:Programming 4;--header:Object layout in memory;--paginate:true;--theme:dae;--marpit-advanced-background-split:50%;" data-marpit-pagination-total="57" data-marpit-advanced-background="background" data-marpit-advanced-background-split="right"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;object_layout_2.png&quot;);background-size:auto 800px;filter:drop-shadow(0 0 10px #000);"></figure></div></section></foreignObject><foreignObject width="50%" height="1080"><section id="26" data-marpit-scope-2ELIzXAh="" data-footer="Programming 4" data-header="Object layout in memory" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="26" style="--footer:Programming 4;--header:Object layout in memory;--paginate:true;--theme:dae;--marpit-advanced-background-split:50%;" data-marpit-pagination-total="57" data-marpit-advanced-background="content" data-marpit-advanced-background-split="right">
<header>Object layout in memory</header>
<h1 id="object-layout-in-memory-1">Object layout in memory</h1>
<pre><code class="language-cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Data</span>
{
    <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> m_Number{};
    <span class="hljs-type">float</span> m_Value{};
    <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> m_AnotherNumber{ <span class="hljs-number">10</span> };
    <span class="hljs-type">char</span> m_ACharacter{ <span class="hljs-string">&#x27;a&#x27;</span> };
    <span class="hljs-type">bool</span> m_IsTest{};
    <span class="hljs-type">const</span> <span class="hljs-type">char</span>* m_AString{ <span class="hljs-string">&quot;test&quot;</span> };
};
</code></pre>
<footer>Programming 4</footer>
</section>
</foreignObject><foreignObject width="1920" height="1080" data-marpit-advanced-background="pseudo"><section data-marpit-scope-2ELIzXAh="" data-footer="Programming 4" data-header="Object layout in memory" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="26" style="" data-marpit-pagination-total="57" data-marpit-advanced-background="pseudo" data-marpit-advanced-background-split="right"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section data-marpit-scope-kUwsEuN3="" data-footer="Programming 4" data-header="Object layout in memory" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="27" style="--footer:Programming 4;--header:Object layout in memory;--paginate:true;--theme:dae;--marpit-advanced-background-split:50%;" data-marpit-pagination-total="57" data-marpit-advanced-background="background" data-marpit-advanced-background-split="right"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;object_layout_3.png&quot;);background-size:auto 800px;filter:drop-shadow(0 0 10px #000);"></figure></div></section></foreignObject><foreignObject width="50%" height="1080"><section id="27" data-marpit-scope-kUwsEuN3="" data-footer="Programming 4" data-header="Object layout in memory" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="27" style="--footer:Programming 4;--header:Object layout in memory;--paginate:true;--theme:dae;--marpit-advanced-background-split:50%;" data-marpit-pagination-total="57" data-marpit-advanced-background="content" data-marpit-advanced-background-split="right">
<header>Object layout in memory</header>
<h1 id="object-layout-in-memory-2">Object layout in memory</h1>
<pre><code class="language-cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Data</span>
{
    <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> m_Number{};
    <span class="hljs-type">float</span> m_Value{};
    <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> m_AnotherNumber{ <span class="hljs-number">10</span> };
    <span class="hljs-type">char</span> m_ACharacter{ <span class="hljs-string">&#x27;a&#x27;</span> };
    <span class="hljs-type">bool</span> m_IsTest{};
    <span class="hljs-type">const</span> <span class="hljs-type">char</span>* m_AString{ <span class="hljs-string">&quot;test&quot;</span> };
};
</code></pre>
<p>What about these fd's?</p>
<footer>Programming 4</footer>
</section>
</foreignObject><foreignObject width="1920" height="1080" data-marpit-advanced-background="pseudo"><section data-marpit-scope-kUwsEuN3="" data-footer="Programming 4" data-header="Object layout in memory" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="27" style="" data-marpit-pagination-total="57" data-marpit-advanced-background="pseudo" data-marpit-advanced-background-split="right"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="28" data-footer="Programming 4" data-header="Object layout in memory" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="28" style="--footer:Programming 4;--header:Object layout in memory;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Object layout in memory</header>
<h1 id="memory-alignment">Memory alignment</h1>
<p>Every data type has a natural alignment</p>
<ul>
<li>1-byte aligned objects reside at any address
<ul>
<li>bool and char</li>
</ul>
</li>
<li>2-byte aligned objects reside at addresses which end in 0x0, 0x2, 0x4… 0xE</li>
<li>4-byte aligned objects reside at addresses which end in 0x0, 0x4, 0x8 or 0xC
<ul>
<li>integer, float and pointer</li>
</ul>
</li>
<li>8-byte aligned objects reside at addresses which end in 0x0 or 0x8
<ul>
<li>double</li>
</ul>
</li>
<li>16-byte aligned objects reside at addresses which end in 0x0
<ul>
<li>SIMD vector</li>
</ul>
</li>
</ul>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="29" data-footer="Programming 4" data-header="Object layout in memory" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="29" style="--footer:Programming 4;--header:Object layout in memory;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Object layout in memory</header>
<h1 id="memory-alignment-1">Memory alignment</h1>
<p>Why? We would have to shift and OR the bits if not aligned:</p>
<p><img src="alignedvalues.svg" alt="center" style="height:800px;" /></p>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="30" data-footer="Programming 4" data-header="Object layout in memory" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="30" style="--footer:Programming 4;--header:Object layout in memory;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Object layout in memory</header>
<h1 id="memory-alignment-2">Memory alignment</h1>
<div class="columns"><div>
<p>The alignment of our struct (x86)?</p>
<ul>
<li>4-byte – the largest alignment of its members.</li>
</ul>
<p>Classes that inherit from another class</p>
<ul>
<li>Just add their members to the base class</li>
<li>But with padding in between</li>
<li>If there are any virtual functions: adds a pointer to the vtable</li>
</ul>
</div><div>
<pre><code class="language-cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Data</span>
{
    <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> m_Number{};
    <span class="hljs-type">float</span> m_Value{};
    <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> m_AnotherNumber{ <span class="hljs-number">10</span> };
    <span class="hljs-type">char</span> m_ACharacter{ <span class="hljs-string">&#x27;a&#x27;</span> };
    <span class="hljs-type">bool</span> m_IsTest{};
    <span class="hljs-type">const</span> <span class="hljs-type">char</span>* m_AString{ <span class="hljs-string">&quot;test&quot;</span> };
};
</code></pre>
</div></div>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="31" data-footer="Programming 4" data-header="Object layout in memory" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="31" style="--footer:Programming 4;--header:Object layout in memory;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Object layout in memory</header>
<h1 id="memory-alignment-3">Memory alignment</h1>
<p>Feature since Visual Studio 17.9:</p>
<p><img src="image-18.png" alt="center" style="width:400px;filter:drop-shadow(0 0 10px #000);" /></p>
<p>8 Byte alignment?</p>
<p><img src="image-19.png" alt="center" style="width:1000px;filter:drop-shadow(0 0 10px #000);" /></p>
<p><img src="image-20.png" alt="center" style="width:1000px;filter:drop-shadow(0 0 10px #000);" /></p>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="32" data-footer="Programming 4" data-header="Object layout in memory" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="32" style="--footer:Programming 4;--header:Object layout in memory;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Object layout in memory</header>
<h1 id="memory-alignment-4">Memory alignment</h1>
<p>What about these?</p>
<pre><code class="language-cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span>
{
    Base* m_parent{};
    <span class="hljs-type">bool</span> m_isActive{<span class="hljs-literal">true</span>};
    <span class="hljs-type">int</span> m_health{<span class="hljs-number">100</span>};
  <span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">const</span> <span class="hljs-type">char</span>* <span class="hljs-title">get_name</span><span class="hljs-params">()</span> </span>= <span class="hljs-number">0</span>;
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">NPC</span> : <span class="hljs-keyword">public</span> Base
{
    <span class="hljs-type">const</span> <span class="hljs-type">char</span>* m_name{};
  <span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">const</span> <span class="hljs-type">char</span>* <span class="hljs-title">get_name</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>{
        <span class="hljs-keyword">return</span> m_name; 
      }
};
</code></pre>
<p>What will sizeof(NPC) return? What is the alignment?</p>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="33" data-footer="Programming 4" data-header="Object layout in memory" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="33" style="--footer:Programming 4;--header:Object layout in memory;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Object layout in memory</header>
<h1 id="memory-alignment-5">Memory alignment</h1>
<div class="columns"><div>
<p>What about these?</p>
<pre><code class="language-cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span>
{
    Base* m_parent{};
    <span class="hljs-type">bool</span> m_isActive{<span class="hljs-literal">true</span>};
    <span class="hljs-type">int</span> m_health{<span class="hljs-number">100</span>};
  <span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">const</span> <span class="hljs-type">char</span>* <span class="hljs-title">get_name</span><span class="hljs-params">()</span> </span>= <span class="hljs-number">0</span>;
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">NPC</span> : <span class="hljs-keyword">public</span> Base
{
    <span class="hljs-type">const</span> <span class="hljs-type">char</span>* m_name{};
  <span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">const</span> <span class="hljs-type">char</span>* <span class="hljs-title">get_name</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>{
        <span class="hljs-keyword">return</span> m_name; 
      }
};
</code></pre>
</div><div>
<p><img src="image-17.png" alt="center" style="width:700px;filter:drop-shadow(0 0 10px #000);" /></p>
</div><div>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section data-footer="Programming 4" data-header="Object layout in memory" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="34" style="--footer:Programming 4;--header:Object layout in memory;--paginate:true;--theme:dae;--marpit-advanced-background-split:50%;" data-marpit-pagination-total="57" data-marpit-advanced-background="background" data-marpit-advanced-background-split="right"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;object_layout_4.png&quot;);background-size:auto 900px;filter:drop-shadow(0 0 10px #000);"></figure></div></section></foreignObject><foreignObject width="50%" height="1080"><section id="34" data-footer="Programming 4" data-header="Object layout in memory" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="34" style="--footer:Programming 4;--header:Object layout in memory;--paginate:true;--theme:dae;--marpit-advanced-background-split:50%;" data-marpit-pagination-total="57" data-marpit-advanced-background="content" data-marpit-advanced-background-split="right">
<header>Object layout in memory</header>
<p>x86</p>
<pre><code class="language-cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span>
{
    Base* m_parent{};
    <span class="hljs-type">bool</span> m_isActive{<span class="hljs-literal">true</span>};
    <span class="hljs-type">int</span> m_health{<span class="hljs-number">100</span>};
  <span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">const</span> <span class="hljs-type">char</span>* <span class="hljs-title">get_name</span><span class="hljs-params">()</span> </span>= <span class="hljs-number">0</span>;
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">NPC</span> : <span class="hljs-keyword">public</span> Base
{
    <span class="hljs-type">const</span> <span class="hljs-type">char</span>* m_name{};
  <span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">const</span> <span class="hljs-type">char</span>* <span class="hljs-title">get_name</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>{
        <span class="hljs-keyword">return</span> m_name; 
      }
};
</code></pre>
<footer>Programming 4</footer>
</section>
</foreignObject><foreignObject width="1920" height="1080" data-marpit-advanced-background="pseudo"><section data-footer="Programming 4" data-header="Object layout in memory" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="34" style="" data-marpit-pagination-total="57" data-marpit-advanced-background="pseudo" data-marpit-advanced-background-split="right"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section data-footer="Programming 4" data-header="Object layout in memory" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="35" style="--footer:Programming 4;--header:Object layout in memory;--paginate:true;--theme:dae;--marpit-advanced-background-split:50%;" data-marpit-pagination-total="57" data-marpit-advanced-background="background" data-marpit-advanced-background-split="right"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;object_layout_5.png&quot;);background-size:auto 900px;filter:drop-shadow(0 0 10px #000);"></figure></div></section></foreignObject><foreignObject width="50%" height="1080"><section id="35" data-footer="Programming 4" data-header="Object layout in memory" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="35" style="--footer:Programming 4;--header:Object layout in memory;--paginate:true;--theme:dae;--marpit-advanced-background-split:50%;" data-marpit-pagination-total="57" data-marpit-advanced-background="content" data-marpit-advanced-background-split="right">
<header>Object layout in memory</header>
<p>x64</p>
<pre><code class="language-cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span>
{
    Base* m_parent{};
    <span class="hljs-type">bool</span> m_isActive{<span class="hljs-literal">true</span>};
    <span class="hljs-type">int</span> m_health{<span class="hljs-number">100</span>};
  <span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">const</span> <span class="hljs-type">char</span>* <span class="hljs-title">get_name</span><span class="hljs-params">()</span> </span>= <span class="hljs-number">0</span>;
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">NPC</span> : <span class="hljs-keyword">public</span> Base
{
    <span class="hljs-type">const</span> <span class="hljs-type">char</span>* m_name{};
  <span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">const</span> <span class="hljs-type">char</span>* <span class="hljs-title">get_name</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>{
        <span class="hljs-keyword">return</span> m_name; 
      }
};
</code></pre>
<footer>Programming 4</footer>
</section>
</foreignObject><foreignObject width="1920" height="1080" data-marpit-advanced-background="pseudo"><section data-footer="Programming 4" data-header="Object layout in memory" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="35" style="" data-marpit-pagination-total="57" data-marpit-advanced-background="pseudo" data-marpit-advanced-background-split="right"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="36" data-footer="Programming 4" data-header="Object layout in memory" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="36" style="--footer:Programming 4;--header:Object layout in memory;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Object layout in memory</header>
<h1 id="cache-alignment">Cache alignment</h1>
<p>Consider this example:</p>
<pre><code class="language-cpp"><span class="hljs-type">char</span> a[<span class="hljs-number">10</span>];
<span class="hljs-type">char</span> b[<span class="hljs-number">10</span>];

start_thread_that_works_on_a;
start_thread_that_works_on_b;
</code></pre>
<p>Odds are that a and b will be contiguous in memory and fit in the same cache line.</p>
<ul>
<li>Both threads will invalidate each others cache line</li>
<li>This is called “False sharing”</li>
</ul>
<p>Solution: align the data to the cache line size,<br />
Processes and threads can be designated to a specific core</p>
<ul>
<li>Windows: <code>SetProcessAffinityMask</code> and <code>SetThreadAffinityMask</code></li>
</ul>
<p>To make sure the threads stay away from each others cache</p>
<ul>
<li>They’ll meet again in the Level 2 cache though.</li>
</ul>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section data-footer="Programming 4" data-header="Thrashing the cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="37" style="--footer:Programming 4;--header:Thrashing the cache;--paginate:true;--theme:dae;--marpit-advanced-background-split:40%;" data-marpit-pagination-total="57" data-marpit-advanced-background="background" data-marpit-advanced-background-split="right"><div data-marpit-advanced-background-container="true" data-marpit-advanced-background-direction="horizontal"><figure style="background-image:url(&quot;image.png&quot;);background-size:100% auto;"></figure></div></section></foreignObject><foreignObject width="60%" height="1080"><section id="37" data-footer="Programming 4" data-header="Thrashing the cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="37" style="--footer:Programming 4;--header:Thrashing the cache;--paginate:true;--theme:dae;--marpit-advanced-background-split:40%;" data-marpit-pagination-total="57" data-marpit-advanced-background="content" data-marpit-advanced-background-split="right">
<header>Thrashing the cache</header>

<h1 id="exercise">Exercise</h1>
<ol>
<li>Allocate a <strong>very large buffer</strong> of integers <strong>on the heap</strong>.</li>
<li>Iterate over it with stepsize = 1, doubling the value each time</li>
</ol>
<pre><code class="language-cpp"><span class="hljs-keyword">for</span>(stepsize = <span class="hljs-number">1</span>; stepsize &lt;= <span class="hljs-number">1024</span>; stepsize *= <span class="hljs-number">2</span>)
{
  <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; arr.length; i += stepsize) 
  {
    arr[i] *= <span class="hljs-number">2</span>;
  }
}
</code></pre>
<ol start="3">
<li>Measure the time it takes.</li>
<li>Repeat 2-3 with stepsize = 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024</li>
<li>Take timinigs, in release mode, and put them in a graph<br />
Ideally, we would expect a graph that looks like the one on the right.</li>
</ol>
<footer>Programming 4</footer>
</section>
</foreignObject><foreignObject width="1920" height="1080" data-marpit-advanced-background="pseudo"><section data-footer="Programming 4" data-header="Thrashing the cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="37" style="" data-marpit-pagination-total="57" data-marpit-advanced-background="pseudo" data-marpit-advanced-background-split="right"></section></foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="38" data-footer="Programming 4" data-header="Thrashing the cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="38" style="--footer:Programming 4;--header:Thrashing the cache;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Thrashing the cache</header>
<h1 id="exercise-1">Exercise</h1>
<p>Take good timings!</p>
<ul>
<li>Measure in Release mode</li>
<li>Take multiple samples per stepsize (10+)</li>
<li>Remove the highest and the lowest value</li>
<li>Take the average</li>
<li>That is your timing for that stepsize</li>
</ul>
<p>Use <code>std::chrono</code> for this (as you've been taught in Prog 3)</p>
<pre><code class="language-cpp"><span class="hljs-keyword">auto</span> start = high_resolution_clock::<span class="hljs-built_in">now</span>();

<span class="hljs-comment">// do whatever you need to</span>

<span class="hljs-keyword">auto</span> end = high_resolution_clock::<span class="hljs-built_in">now</span>();
<span class="hljs-keyword">auto</span> elapsedTime = <span class="hljs-built_in">duration_cast</span>&lt;microseconds&gt;(end - start).<span class="hljs-built_in">count</span>();
cout &lt;&lt; <span class="hljs-string">&quot;operation took &quot;</span> &lt;&lt; elapsedTime / <span class="hljs-number">1000.f</span> &lt;&lt; <span class="hljs-string">&quot;ms&quot;</span> &lt;&lt; endl;
</code></pre>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="39" data-footer="Programming 4" data-header="Thrashing the cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="39" style="--footer:Programming 4;--header:Thrashing the cache;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Thrashing the cache</header>
<h1 id="exercise-2">Exercise</h1>
<p>The blue line is the graph for my pc @ home:</p>
<p><img src="image-1.png" alt="center" style="width:800px;" /></p>
<p>What happened?</p>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="40" data-footer="Programming 4" data-header="Thrashing the cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="40" style="--footer:Programming 4;--header:Thrashing the cache;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Thrashing the cache</header>
<h1 id="exercise-3">Exercise</h1>
<p>The blue line is the graph for my pc @ home:</p>
<p><img src="image-1.png" alt="center" style="width:800px;" /></p>
<p>What happened?</p>
<ul>
<li>An int takes 4 bytes -</li>
<li>A step of 16 x 4 jumps 64 bytes - we need every cache line</li>
<li>A step of 32 x 4 jumps 128 bytes - we need every other cache line</li>
</ul>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="41" data-footer="Programming 4" data-header="Thrashing the cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="41" style="--footer:Programming 4;--header:Thrashing the cache;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Thrashing the cache</header>
<h1 id="what-happened">What happened?</h1>
<p><img src="image-2.png" alt="center" /></p>
<p><img src="image-3.png" alt="center" /></p>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="42" data-footer="Programming 4" data-header="Thrashing the cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="42" style="--footer:Programming 4;--header:Thrashing the cache;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Thrashing the cache</header>
<h1 id="what-happened-1">What happened?</h1>
<p><img src="image-4.png" alt="center" /></p>
<p><img src="image-5.png" alt="center" /></p>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="43" data-footer="Programming 4" data-header="Thrashing the cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="43" style="--footer:Programming 4;--header:Thrashing the cache;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Thrashing the cache</header>
<h1 id="what-happened-2">What happened?</h1>
<p><img src="image-6.png" alt="center" /></p>
<p><img src="image-7.png" alt="center" /></p>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="44" data-footer="Programming 4" data-header="Thrashing the cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="44" style="--footer:Programming 4;--header:Thrashing the cache;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Thrashing the cache</header>
<h1 id="what-happened-3">What happened?</h1>
<p><img src="image-8.png" alt="center" /></p>
<p>This time we finally skip 50% of the cachelines!</p>
<p><img src="image-9.png" alt="center" /></p>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="45" data-footer="Programming 4" data-header="Thrashing the cache" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="45" style="--footer:Programming 4;--header:Thrashing the cache;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Thrashing the cache</header>
<h1 id="what-happened-4">What happened</h1>
<p><img src="image-10.png" alt="center" /></p>
<p><img src="image-11.png" alt="center" /></p>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="46" data-footer="Programming 4" data-header="Avoid cache misses" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="46" style="--footer:Programming 4;--header:Avoid cache misses;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Avoid cache misses</header>
<div class="columns"><div>
<h1 id="2-types-of-cache">2 Types of cache</h1>
<h2 id="i-cache">I-cache</h2>
<ul>
<li>Keep high performance code as small as possible</li>
<li>Avoid calling functions within performance-critical sections of your code
<ul>
<li>Certainly when virtual functions are involved, we need to pass via the vtable then.</li>
</ul>
</li>
<li>If you must call functions, think where you put them
<ul>
<li>A function’s body is contiguous in memory</li>
<li>Functions appear in the same order as they are defined in the .cpp</li>
<li>Thus: all code in one .cpp is contiguous</li>
</ul>
</li>
<li>Use inlining</li>
</ul>
</div><div>
<h2 id="d-cache">D-cache</h2>
<ul>
<li>
<p>Organize data in contiguous blocks</p>
</li>
<li>
<p>As small as possible</p>
</li>
<li>
<p>Access them sequentially</p>
</li>
<li>
<p>Data Oriented Programming</p>
<ul>
<li>Component pattern</li>
<li>Object Pool pattern</li>
</ul>
</li>
</ul>
</div></div>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="47" data-footer="Programming 4" data-header="Data oriented design" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="47" style="--footer:Programming 4;--header:Data oriented design;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Data oriented design</header>

<h1 id="examples">Examples</h1>
<p>Imagine we have a <code>particle</code> class</p>
<pre><code class="language-cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">particle</span>
{
    <span class="hljs-type">float</span> remaining_duration;
    vec3f pos;
    vec3f velocity;
  <span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">particle</span>() = <span class="hljs-keyword">default</span>;
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">init</span><span class="hljs-params">(vec3f position, vec3f velocity, <span class="hljs-type">float</span> duration)</span></span>;
    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-type">float</span> delta_time)</span></span>; <span class="hljs-comment">// move around, grow/shrink, etc...</span>
    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">is_alive</span><span class="hljs-params">()</span> <span class="hljs-type">const</span></span>;
};
</code></pre>
<p>Used by a <code>particle_system</code></p>
<pre><code class="language-cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">particle_system::update</span><span class="hljs-params">(<span class="hljs-type">float</span> delta_time)</span> 
</span>{
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span>&amp; particle : m_particles) 
  {
    particle.<span class="hljs-built_in">update</span>(delta_time)
  }
}
</code></pre>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="48" data-footer="Programming 4" data-header="Data oriented design" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="48" style="--footer:Programming 4;--header:Data oriented design;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Data oriented design</header>
<h1 id="examples-1">Examples</h1>
<p>But not all particles are active at the same time, so:</p>
<pre><code class="language-cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">particle_system::update</span><span class="hljs-params">(<span class="hljs-type">float</span> delta_time)</span> 
</span>{
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span>&amp; particle : m_particles) 
  {
    <span class="hljs-keyword">if</span>(particle.<span class="hljs-built_in">is_active</span>())
      particle.<span class="hljs-built_in">update</span>(delta_time)
  }
}
</code></pre>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="49" data-footer="Programming 4" data-header="Data oriented design" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="49" style="--footer:Programming 4;--header:Data oriented design;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Data oriented design</header>
<h1 id="examples-2">Examples</h1>
<div class="columns"><div>
<p>How can this be improved?</p>
</div><div>
<pre><code class="language-cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">animation</span>;

<span class="hljs-keyword">enum class</span> <span class="hljs-title class_">loot_type</span> {
  gold,
  silver,
  chicken
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">npc</span> : <span class="hljs-keyword">public</span> component {
  animation* m_current;
  vec3f m_goal;
  loot_type m_drop;
  <span class="hljs-type">int</span> m_min_drops;
  <span class="hljs-type">int</span> m_max_drops;

<span class="hljs-keyword">public</span>:
  <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">update</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// walk towards goal, play anims, etc.</span>
  }
}
</code></pre>
</div></div>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="50" data-footer="Programming 4" data-header="Data oriented design" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="50" style="--footer:Programming 4;--header:Data oriented design;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Data oriented design</header>
<h1 id="examples-3">Examples</h1>
<div class="columns"><div>
<p>We split the data according to whether it's used in the <strong>hot or cold path</strong>.</p>
<ul>
<li><em>Hot path</em>: data we need every frame / code we run every frame
<ul>
<li>Most often the code called in the Update method</li>
</ul>
</li>
<li><em>Cold path</em>: data we need once in a while / code that runs now and then
<ul>
<li>for example when a loot drop even happens</li>
</ul>
</li>
</ul>
</div><div>
<pre><code class="language-cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">animation</span>;

<span class="hljs-keyword">enum class</span> <span class="hljs-title class_">loot_type</span> {
  gold,
  silver,
  chicken
};

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">loot_drop</span> {
  loot_type m_drop;
  <span class="hljs-type">int</span> m_min_drops;
  <span class="hljs-type">int</span> m_max_drops;
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">npc</span> : <span class="hljs-keyword">public</span> component {
  animation* m_current;
  vec3f m_goal;
  lootdrop* m_loot;
 
<span class="hljs-keyword">public</span>:
  <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">update</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// walk towards goal, play anims, etc.</span>
  }
}
</code></pre>
</div></div>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="51" data-footer="Programming 4" data-header="Data oriented design" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="51" style="--footer:Programming 4;--header:Data oriented design;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Data oriented design</header>
<h1 id="exercise-4">Exercise</h1>
<p>Do the same exercise as before, but now with this class instead of integers:</p>
<pre><code class="language-cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">transform</span> 
{
  <span class="hljs-type">float</span> matrix[<span class="hljs-number">16</span>] = {
    <span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,
    <span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,
    <span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,
    <span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>
  };
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">gameobject</span>
{
  transform local;
  <span class="hljs-type">int</span> id;
}
</code></pre>
<p>What does de graph look like now? Why? How do you fix it?</p>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="52" data-footer="Programming 4" data-header="Data oriented design" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="52" style="--footer:Programming 4;--header:Data oriented design;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Data oriented design</header>
<h1 id="exercise-5">Exercise</h1>
<p>Our graph now looks like this:</p>
<p><img src="image-12.png" alt="center" style="width:1000px;" /></p>
<p>What’s wrong with it?<br />
Why? How do we fix it?</p>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="53" data-footer="Programming 4" data-header="Data oriented design" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="53" style="--footer:Programming 4;--header:Data oriented design;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>Data oriented design</header>
<h1 id="exercise-6">Exercise</h1>
<p>With this alternative:</p>
<pre><code class="language-cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">gameobject</span>
{
  transform* local;
  <span class="hljs-type">int</span> id;
}
</code></pre>
<p>We get these results:</p>
<div class="columns"><div>
<p><img src="image-13.png" alt="center" /></p>
</div><div>
<p><img src="image-14.png" alt="center" /></p>
</div></div>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="54" data-footer="Programming 4" data-header="UI" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="54" style="--footer:Programming 4;--header:UI;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>UI</header>

<h1 id="user-interface-programming">User interface programming</h1>
<p>There are mainly two types of UI</p>
<div class="columns"><div>
<h2 id="retained-mode-rmgui">Retained mode (RMGUI)</h2>
<ul>
<li>Useful for static applications</li>
<li>Interrupt based</li>
<li>Construct everything upfront and call “run”</li>
<li>Matches the MVC pattern -&gt; .Net WinForms</li>
<li>Matches the MVVM pattern -&gt; XAML, UXML</li>
</ul>
</div><div>
<h2 id="immediate-mode-imgui">Immediate mode (IMGUI)</h2>
<ul>
<li>Heavy on the CPU/GPU</li>
<li>Gets re-constructed every frame</li>
<li>Useful for real-time applications</li>
<li>Unity Editor (deprecated though)</li>
</ul>
</div></div>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="55" data-footer="Programming 4" data-header="UI" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="55" style="--footer:Programming 4;--header:UI;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>UI</header>
<h1 id="dear-imgui">Dear ImGui</h1>
<p>Is a popular immediate mode GUI library, often used in game engines.</p>
<p><img src="image-15.png" alt="center" style="width:1200px;" /></p>
<p><sub>Rainbow Six, Ubisoft. <a href="https://github.com/ocornut/imgui/wiki/software-using-dear-imgui">https://github.com/ocornut/imgui/wiki/software-using-dear-imgui</a></sub></p>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="56" data-footer="Programming 4" data-header="UI" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="56" style="--footer:Programming 4;--header:UI;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>UI</header>
<h1 id="dear-imgui-1">Dear ImGui</h1>
<p>Is a popular immediate mode GUI library, often used in game engines.</p>
<p>Check out this (very) short overview:</p>
<p><a href="https://www.youtube.com/watch?v=LSRJ1jZq90k">https://www.youtube.com/watch?v=LSRJ1jZq90k</a></p>
<p>Let’s set this up! Check out the Dear ImGui assignment on Leho</p>
<footer>Programming 4</footer>
</section>
</foreignObject></svg><svg data-marpit-svg="" viewBox="0 0 1920 1080"><foreignObject width="1920" height="1080"><section id="57" data-footer="Programming 4" data-header="UI" data-paginate="true" data-theme="dae" lang="en-US" data-marpit-pagination="57" style="--footer:Programming 4;--header:UI;--paginate:true;--theme:dae;" data-marpit-pagination-total="57">
<header>UI</header>
<h1 id="exercise-7">Exercise</h1>
<p>Using the results of the previous exercise, instead of writing the timings to cout, plot them in a graph.</p>
<p><img src="Programming%204%20assignment_2.jpg" alt="center" /></p>
<p>Hint: <a href="https://github.com/soulthreads/imgui-plot">https://github.com/soulthreads/imgui-plot</a></p>
<footer>Programming 4</footer>
</section>
<script>!function(){"use strict";const t={h1:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"1"},style:"display: block; font-size: 2em; margin-block-start: 0.67em; margin-block-end: 0.67em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h2:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"2"},style:"display: block; font-size: 1.5em; margin-block-start: 0.83em; margin-block-end: 0.83em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h3:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"3"},style:"display: block; font-size: 1.17em; margin-block-start: 1em; margin-block-end: 1em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h4:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"4"},style:"display: block; margin-block-start: 1.33em; margin-block-end: 1.33em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h5:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"5"},style:"display: block; font-size: 0.83em; margin-block-start: 1.67em; margin-block-end: 1.67em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},h6:{proto:()=>HTMLHeadingElement,attrs:{role:"heading","aria-level":"6"},style:"display: block; font-size: 0.67em; margin-block-start: 2.33em; margin-block-end: 2.33em; margin-inline-start: 0px; margin-inline-end: 0px; font-weight: bold;"},span:{proto:()=>HTMLSpanElement},pre:{proto:()=>HTMLElement,style:"display: block; font-family: monospace; white-space: pre; margin: 1em 0; --marp-auto-scaling-white-space: pre;"}},e="data-marp-auto-scaling-wrapper",i="data-marp-auto-scaling-svg",n="data-marp-auto-scaling-container";class s extends HTMLElement{constructor(){super(),this.svgPreserveAspectRatio="xMinYMid meet";const t=t=>([e])=>{const{width:i,height:n}=e.contentRect;this[t]={width:i,height:n},this.updateSVGRect()};this.attachShadow({mode:"open"}),this.containerObserver=new ResizeObserver(t("containerSize")),this.wrapperObserver=new ResizeObserver(((...e)=>{t("wrapperSize")(...e),this.flushSvgDisplay()}))}static get observedAttributes(){return["data-downscale-only"]}connectedCallback(){var t,s,o,r,a;this.shadowRoot.innerHTML=`\n<style>\n  svg[${i}] { display: block; width: 100%; height: auto; vertical-align: top; }\n  span[${n}] { display: table; white-space: var(--marp-auto-scaling-white-space, nowrap); width: max-content; }\n</style>\n<div ${e}>\n  <svg part="svg" ${i}>\n    <foreignObject><span ${n}><slot></slot></span></foreignObject>\n  </svg>\n</div>\n    `.split(/\n\s*/).join(""),this.wrapper=null!==(t=this.shadowRoot.querySelector(`div[${e}]`))&&void 0!==t?t:void 0;const l=this.svg;this.svg=null!==(o=null===(s=this.wrapper)||void 0===s?void 0:s.querySelector(`svg[${i}]`))&&void 0!==o?o:void 0,this.svg!==l&&(this.svgComputedStyle=this.svg?window.getComputedStyle(this.svg):void 0),this.container=null!==(a=null===(r=this.svg)||void 0===r?void 0:r.querySelector(`span[${n}]`))&&void 0!==a?a:void 0,this.observe()}disconnectedCallback(){this.svg=void 0,this.svgComputedStyle=void 0,this.wrapper=void 0,this.container=void 0,this.observe()}attributeChangedCallback(){this.observe()}flushSvgDisplay(){const{svg:t}=this;t&&(t.style.display="inline",requestAnimationFrame((()=>{t.style.display=""})))}observe(){this.containerObserver.disconnect(),this.wrapperObserver.disconnect(),this.wrapper&&this.wrapperObserver.observe(this.wrapper),this.container&&this.containerObserver.observe(this.container),this.svgComputedStyle&&this.observeSVGStyle(this.svgComputedStyle)}observeSVGStyle(t){const e=()=>{const i=(()=>{const e=t.getPropertyValue("--preserve-aspect-ratio");if(e)return e.trim();return`x${(({textAlign:t,direction:e})=>{if(t.endsWith("left"))return"Min";if(t.endsWith("right"))return"Max";if("start"===t||"end"===t){let i="rtl"===e;return"end"===t&&(i=!i),i?"Max":"Min"}return"Mid"})(t)}YMid meet`})();i!==this.svgPreserveAspectRatio&&(this.svgPreserveAspectRatio=i,this.updateSVGRect()),t===this.svgComputedStyle&&requestAnimationFrame(e)};e()}updateSVGRect(){var t,e,i,n,s,o,r;let a=Math.ceil(null!==(e=null===(t=this.containerSize)||void 0===t?void 0:t.width)&&void 0!==e?e:0);const l=Math.ceil(null!==(n=null===(i=this.containerSize)||void 0===i?void 0:i.height)&&void 0!==n?n:0);void 0!==this.dataset.downscaleOnly&&(a=Math.max(a,null!==(o=null===(s=this.wrapperSize)||void 0===s?void 0:s.width)&&void 0!==o?o:0));const c=null===(r=this.svg)||void 0===r?void 0:r.querySelector(":scope > foreignObject");if(null==c||c.setAttribute("width",`${a}`),null==c||c.setAttribute("height",`${l}`),this.svg&&(this.svg.setAttribute("viewBox",`0 0 ${a} ${l}`),this.svg.setAttribute("preserveAspectRatio",this.svgPreserveAspectRatio),this.svg.style.height=a<=0||l<=0?"0":""),this.container){const t=this.svgPreserveAspectRatio.toLowerCase();this.container.style.marginLeft=t.startsWith("xmid")||t.startsWith("xmax")?"auto":"0",this.container.style.marginRight=t.startsWith("xmi")?"auto":"0"}}}const o=(t,{attrs:e={},style:i})=>class extends t{constructor(...t){super(...t);for(const[t,i]of Object.entries(e))this.hasAttribute(t)||this.setAttribute(t,i);this.attachShadow({mode:"open"})}static get observedAttributes(){return["data-auto-scaling"]}connectedCallback(){this._update()}attributeChangedCallback(){this._update()}_update(){const t=i?`<style>:host { ${i} }</style>`:"";let e="<slot></slot>";const{autoScaling:n}=this.dataset;if(void 0!==n){e=`<marp-auto-scaling exportparts="svg:auto-scaling" ${"downscale-only"===n?"data-downscale-only":""}>${e}</marp-auto-scaling>`}this.shadowRoot.innerHTML=t+e}};let r;const a=Symbol();let l;const c="marpitSVGPolyfill:setZoomFactor,",d=Symbol(),g=Symbol();const h=()=>{const t="Apple Computer, Inc."===navigator.vendor,e=t?[u]:[],i={then:e=>(t?(async()=>{if(void 0===l){const t=document.createElement("canvas");t.width=10,t.height=10;const e=t.getContext("2d"),i=new Image(10,10),n=new Promise((t=>{i.addEventListener("load",(()=>t()))}));i.crossOrigin="anonymous",i.src="data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2210%22%20height%3D%2210%22%20viewBox%3D%220%200%201%201%22%3E%3CforeignObject%20width%3D%221%22%20height%3D%221%22%20requiredExtensions%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%3E%3Cdiv%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%20style%3D%22width%3A%201px%3B%20height%3A%201px%3B%20background%3A%20red%3B%20position%3A%20relative%22%3E%3C%2Fdiv%3E%3C%2FforeignObject%3E%3C%2Fsvg%3E",await n,e.drawImage(i,0,0),l=e.getImageData(5,5,1,1).data[3]<128}return l})().then((t=>{null==e||e(t?[u]:[])})):null==e||e([]),i)};return Object.assign(e,i)};let p,m;function u(t){const e="object"==typeof t&&t.target||document,i="object"==typeof t?t.zoom:t;window[g]||(Object.defineProperty(window,g,{configurable:!0,value:!0}),document.body.style.zoom=1.0001,document.body.offsetHeight,document.body.style.zoom=1,window.addEventListener("message",(({data:t,origin:e})=>{if(e===window.origin)try{if(t&&"string"==typeof t&&t.startsWith(c)){const[,e]=t.split(","),i=Number.parseFloat(e);Number.isNaN(i)||(m=i)}}catch(t){console.error(t)}})));let n=!1;Array.from(e.querySelectorAll("svg[data-marpit-svg]"),(t=>{var e,s,o,r;t.style.transform||(t.style.transform="translateZ(0)");const a=i||m||t.currentScale||1;p!==a&&(p=a,n=a);const l=t.getBoundingClientRect(),{length:c}=t.children;for(let i=0;i<c;i+=1){const n=t.children[i];if(n.getScreenCTM){const t=n.getScreenCTM();if(t){const i=null!==(s=null===(e=n.x)||void 0===e?void 0:e.baseVal.value)&&void 0!==s?s:0,c=null!==(r=null===(o=n.y)||void 0===o?void 0:o.baseVal.value)&&void 0!==r?r:0,d=n.children.length;for(let e=0;e<d;e+=1){const s=n.children[e];if("SECTION"===s.tagName){const{style:e}=s;e.transformOrigin||(e.transformOrigin=`${-i}px ${-c}px`),e.transform=`scale(${a}) matrix(${t.a}, ${t.b}, ${t.c}, ${t.d}, ${t.e-l.left}, ${t.f-l.top}) translateZ(0.0001px)`;break}}}}}})),!1!==n&&Array.from(e.querySelectorAll("iframe"),(({contentWindow:t})=>{null==t||t.postMessage(`${c}${n}`,"null"===window.origin?"*":window.origin)}))}function v({once:t=!1,target:e=document}={}){const i=function(t=document){if(t[d])return t[d];let e=!0;const i=()=>{e=!1,delete t[d]};Object.defineProperty(t,d,{configurable:!0,value:i});let n=[],s=!1;(async()=>{try{n=await h()}finally{s=!0}})();const o=()=>{for(const e of n)e({target:t});s&&0===n.length||e&&window.requestAnimationFrame(o)};return o(),i}(e);return t?(i(),()=>{}):i}p=1,m=void 0;const b=Symbol(),w=(e=document)=>{if("undefined"==typeof window)throw new Error("Marp Core's browser script is valid only in browser context.");if(((e=document)=>{const i=window[a];i||customElements.define("marp-auto-scaling",s);for(const n of Object.keys(t)){const s=`marp-${n}`,a=t[n].proto();null!=r||(r=!!document.createElement("div",{is:"marp-auto-scaling"}).outerHTML.startsWith("<div is")),r&&a!==HTMLElement?i||customElements.define(s,o(a,{style:t[n].style}),{extends:n}):(i||customElements.define(s,o(HTMLElement,t[n])),e.querySelectorAll(`${n}[is="${s}"]`).forEach((t=>{t.outerHTML=t.outerHTML.replace(new RegExp(`^<${n}`,"i"),`<${s}`).replace(new RegExp(`</${n}>$`,"i"),`</${s}>`)})))}window[a]=!0})(e),e[b])return e[b];const i=v({target:e}),n=()=>{i(),delete e[b]},l=Object.assign(n,{cleanup:n,update:()=>w(e)});return Object.defineProperty(e,b,{configurable:!0,value:l}),l},y=document.currentScript;w(y?y.getRootNode():document)}();
</script></foreignObject></svg></div><div class="bespoke-marp-note" data-index="1" tabindex="0"><p>Persistent memory – memory that survives a reboot of your device.
SSD – Solid State Drive. 
HDD – Hard Disk Drives. Moving parts – slower, but more capacity (for now) 
Remember the old days when we had these things like … DVD’s?
What is the difference between an SSD and a HDD, does anyone know that?</p></div><div class="bespoke-marp-note" data-index="2" tabindex="0"><p>HDD’s have moving parts, with an arm seeking positions on a disk, making it slow.
SSD’s don’t have that problem and are thus way faster.</p></div><div class="bespoke-marp-note" data-index="6" tabindex="0"><p>rpb = framepointer
eax = register</p></div><div class="bespoke-marp-note" data-index="8" tabindex="0"><p>source: Computer Architecture: A Quantitative Approach by John L. Hennessy, David A. Patterson, Andrea C. Arpaci-Dusseau 
How slow? Very slow. One fetch can take thousands of CPU cycles, leaving the CPU waiting idle</p></div><div class="bespoke-marp-note" data-index="11" tabindex="0"><p>Say we have an instruction that needs to operate on a value in memory (blue)</p></div><div class="bespoke-marp-note" data-index="12" tabindex="0"><p>We fetch the cache line containing the variable, and store the value into the CPU’s register, which can perform his instruction now.</p></div><div class="bespoke-marp-note" data-index="13" tabindex="0"><p>Say we need another value for our operation, that is located somewhere else in memory.
We need to fetch it too, and here we have a cache miss.</p></div><div class="bespoke-marp-note" data-index="14" tabindex="0"><p>Say we want to perform the same operation again but on two other values. Here we have a cache miss.</p></div><div class="bespoke-marp-note" data-index="15" tabindex="0"><p>If we locate the data we need for our operation next to each other, we have a cache hit for the second value</p></div><div class="bespoke-marp-note" data-index="16" tabindex="0"><p>Even better, the next operation can also continue without memory access</p></div><div class="bespoke-marp-note" data-index="17" tabindex="0"><p>The one without the pointer :)</p></div><div class="bespoke-marp-note" data-index="20" tabindex="0"><p>If your code is accessing data in all separate places, you would have cache misses on the data
Or vice versa, if you jump through the code’s virtual methods that are every where in memory, you would introduce cache misses on your nice contiguous instructions.</p><p>They’ll probably answer the 2nd, but why? Not because the algorithm might be too complex for this simple case, but because of the potential cache miss this introduces. Of course, compiler optimization will probably fix this But: no premature optimization!</p></div><div class="bespoke-marp-note" data-index="24" tabindex="0"><p>fd = no mans land, used by the debugger to detect buffer overruns
dd = unused free memory
cd = newly allocated memory</p></div><div class="bespoke-marp-note" data-index="25" tabindex="0"><p>fd = no mans land, used by the debugger to detect buffer overruns
dd = unused free memory
cd = newly allocated memory</p></div><div class="bespoke-marp-note" data-index="26" tabindex="0"><p>fd = no mans land, used by the debugger to detect buffer overruns
dd = unused free memory
cd = newly allocated memory</p></div><div class="bespoke-marp-note" data-index="31" tabindex="0"><p>32b in x64, 20b in x86</p></div><div class="bespoke-marp-note" data-index="33" tabindex="0"><p>32b in x64, 20b in x86
Red – the canaries
Yellow – The vtable pointer
Green – m_parent
Blue – m_isActive + padding
Purple – m_health
Orange – m_name</p></div><div class="bespoke-marp-note" data-index="34" tabindex="0"><p>32b in x64, 20b in x86
Red – the canaries
Yellow – The vtable pointer
Green – m_parent
Blue – m_isActive + padding
Purple – m_health
Orange – m_name</p></div><div class="bespoke-marp-note" data-index="47" tabindex="0"><p>Not all particles are active at the same time, so we check. Introduces a lot of cache fetches that are often not needed

How do we fix? - Open question, many solutions possible…

One: keep active particles together in memory by swapping their data around and keeping track of how many active particles there are. Can't do this with pointer swapping, so potentially this moves a lot of memory around.
Is a tradeoff, what is cheaper for the use case you have? MEASURE before optimize.</p></div><div class="bespoke-marp-note" data-index="48" tabindex="0"><p>Problem: AIComponent has a lot of data. Can't fit all of it or too few in a cache line. 
Open question: how do we fix that
Solution: we split the data into hot/cold. Only data in the hot path should reside in the AIComponent and be used in the update function. The cold data we separate into another object and we just point to it.</p></div><div class="bespoke-marp-note" data-index="51" tabindex="0"><p>We access every cacheline for every step, causing the timing to match the expected result. But what we don't want is the height of the graph.

Let students fix it according to AIComponent example</p></div><div class="bespoke-marp-note" data-index="52" tabindex="0"><p>Again, we flatline until k = 8 (because sizeof(GameObject3DAlt) = 8 instead of 4 as in the previous example)

But compare it with the GameObject3D and you see the massive gain, until k = 16 - then we're in the same boat again.</p></div><script>/*!! License: https://unpkg.com/@marp-team/marp-cli@3.4.0/lib/bespoke.js.LICENSE.txt */
!function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var t={from:function(e,t){var n,r=1===(e.parent||e).nodeType?e.parent||e:document.querySelector(e.parent||e),o=[].filter.call("string"==typeof e.slides?r.querySelectorAll(e.slides):e.slides||r.children,(function(e){return"SCRIPT"!==e.nodeName})),i={},a=function(e,t){return(t=t||{}).index=o.indexOf(e),t.slide=e,t},s=function(e,t){i[e]=(i[e]||[]).filter((function(e){return e!==t}))},l=function(e,t){return(i[e]||[]).reduce((function(e,n){return e&&!1!==n(t)}),!0)},c=function(e,t){o[e]&&(n&&l("deactivate",a(n,t)),n=o[e],l("activate",a(n,t)))},d=function(e,t){var r=o.indexOf(n)+e;l(e>0?"next":"prev",a(n,t))&&c(r,t)},u={off:s,on:function(e,t){return(i[e]||(i[e]=[])).push(t),s.bind(null,e,t)},fire:l,slide:function(e,t){if(!arguments.length)return o.indexOf(n);l("slide",a(o[e],t))&&c(e,t)},next:d.bind(null,1),prev:d.bind(null,-1),parent:r,slides:o,destroy:function(e){l("destroy",a(n,e)),i={}}};return(t||[]).forEach((function(e){e(u)})),n||c(0),u}},n=e(t);const r=document.body,o=(...e)=>history.replaceState(...e),i="presenter",a="next",s=["",i,a],l="bespoke-marp-",c=`data-${l}`,d=(e,{protocol:t,host:n,pathname:r,hash:o}=location)=>{const i=e.toString();return`${t}//${n}${r}${i?"?":""}${i}${o}`},u=()=>r.dataset.bespokeView,f=e=>new URLSearchParams(location.search).get(e),m=(e,t={})=>{var n;const r={location,setter:o,...t},i=new URLSearchParams(r.location.search);for(const t of Object.keys(e)){const n=e[t];"string"==typeof n?i.set(t,n):i.delete(t)}try{r.setter({...null!==(n=window.history.state)&&void 0!==n?n:{}},"",d(i,r.location))}catch(e){console.error(e)}},g=(()=>{const e="bespoke-marp";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}})(),p=e=>{try{return localStorage.getItem(e)}catch(e){return null}},v=(e,t)=>{try{return localStorage.setItem(e,t),!0}catch(e){return!1}},h=e=>{try{return localStorage.removeItem(e),!0}catch(e){return!1}},y=(e,t)=>{const n="aria-hidden";t?e.setAttribute(n,"true"):e.removeAttribute(n)},b=e=>{e.parent.classList.add(`${l}parent`),e.slides.forEach((e=>e.classList.add(`${l}slide`))),e.on("activate",(t=>{const n=`${l}active`,r=t.slide,o=r.classList,i=!o.contains(n);if(e.slides.forEach((e=>{e.classList.remove(n),y(e,!0)})),o.add(n),y(r,!1),i){const e=`${n}-ready`;o.add(e),document.body.clientHeight,o.remove(e)}}))},w=e=>{let t=0,n=0;Object.defineProperty(e,"fragments",{enumerable:!0,value:e.slides.map((e=>[null,...e.querySelectorAll("[data-marpit-fragment]")]))});const r=r=>void 0!==e.fragments[t][n+r],o=(r,o)=>{t=r,n=o,e.fragments.forEach(((e,t)=>{e.forEach(((e,n)=>{if(null==e)return;const i=t<r||t===r&&n<=o;e.setAttribute(`${c}fragment`,(i?"":"in")+"active");const a=`${c}current-fragment`;t===r&&n===o?e.setAttribute(a,"current"):e.removeAttribute(a)}))})),e.fragmentIndex=o;const i={slide:e.slides[r],index:r,fragments:e.fragments[r],fragmentIndex:o};e.fire("fragment",i)};e.on("next",(({fragment:i=!0})=>{if(i){if(r(1))return o(t,n+1),!1;const i=t+1;e.fragments[i]&&o(i,0)}else{const r=e.fragments[t].length;if(n+1<r)return o(t,r-1),!1;const i=e.fragments[t+1];i&&o(t+1,i.length-1)}})),e.on("prev",(({fragment:i=!0})=>{if(r(-1)&&i)return o(t,n-1),!1;const a=t-1;e.fragments[a]&&o(a,e.fragments[a].length-1)})),e.on("slide",(({index:t,fragment:n})=>{let r=0;if(void 0!==n){const o=e.fragments[t];if(o){const{length:e}=o;r=-1===n?e-1:Math.min(Math.max(n,0),e-1)}}o(t,r)})),o(0,0)},x=document,k=()=>!(!x.fullscreenEnabled&&!x.webkitFullscreenEnabled),$=()=>!(!x.fullscreenElement&&!x.webkitFullscreenElement),E=e=>{e.fullscreen=()=>{k()&&(async()=>{return $()?null===(e=x.exitFullscreen||x.webkitExitFullscreen)||void 0===e?void 0:e.call(x):((e=x.body)=>{var t;return null===(t=e.requestFullscreen||e.webkitRequestFullscreen)||void 0===t?void 0:t.call(e)})();var e})()},document.addEventListener("keydown",(t=>{"f"!==t.key&&"F11"!==t.key||t.altKey||t.ctrlKey||t.metaKey||!k()||(e.fullscreen(),t.preventDefault())}))},L=`${l}inactive`,S=(e=2e3)=>({parent:t,fire:n})=>{const r=t.classList,o=e=>n(`marp-${e?"":"in"}active`);let i;const a=()=>{i&&clearTimeout(i),i=setTimeout((()=>{r.add(L),o()}),e),r.contains(L)&&(r.remove(L),o(!0))};for(const e of["mousedown","mousemove","touchend"])document.addEventListener(e,a);setTimeout(a,0)},P=["AUDIO","BUTTON","INPUT","SELECT","TEXTAREA","VIDEO"],_=e=>{e.parent.addEventListener("keydown",(e=>{if(!e.target)return;const t=e.target;(P.includes(t.nodeName)||"true"===t.contentEditable)&&e.stopPropagation()}))},T=e=>{window.addEventListener("load",(()=>{for(const t of e.slides){const e=t.querySelector("marp-auto-scaling, [data-auto-scaling], [data-marp-fitting]");t.setAttribute(`${c}load`,e?"":"hideable")}}))},I=({interval:e=250}={})=>t=>{document.addEventListener("keydown",(e=>{if(" "===e.key&&e.shiftKey)t.prev();else if("ArrowLeft"===e.key||"ArrowUp"===e.key||"PageUp"===e.key)t.prev({fragment:!e.shiftKey});else if(" "!==e.key||e.shiftKey)if("ArrowRight"===e.key||"ArrowDown"===e.key||"PageDown"===e.key)t.next({fragment:!e.shiftKey});else if("End"===e.key)t.slide(t.slides.length-1,{fragment:-1});else{if("Home"!==e.key)return;t.slide(0)}else t.next();e.preventDefault()}));let n,r,o=0;t.parent.addEventListener("wheel",(i=>{let a=!1;const s=(e,t)=>{e&&(a=a||((e,t)=>((e,t)=>{const n="X"===t?"Width":"Height";return e[`client${n}`]<e[`scroll${n}`]})(e,t)&&((e,t)=>{const{overflow:n}=e,r=e[`overflow${t}`];return"auto"===n||"scroll"===n||"auto"===r||"scroll"===r})(getComputedStyle(e),t))(e,t)),(null==e?void 0:e.parentElement)&&s(e.parentElement,t)};if(0!==i.deltaX&&s(i.target,"X"),0!==i.deltaY&&s(i.target,"Y"),a)return;i.preventDefault();const l=Math.sqrt(i.deltaX**2+i.deltaY**2);if(void 0!==i.wheelDelta){if(void 0===i.webkitForce&&Math.abs(i.wheelDelta)<40)return;if(i.deltaMode===i.DOM_DELTA_PIXEL&&l<4)return}else if(i.deltaMode===i.DOM_DELTA_PIXEL&&l<12)return;r&&clearTimeout(r),r=setTimeout((()=>{n=0}),e);const c=Date.now()-o<e,d=l<=n;if(n=l,c||d)return;let u;(i.deltaX>0||i.deltaY>0)&&(u="next"),(i.deltaX<0||i.deltaY<0)&&(u="prev"),u&&(t[u](),o=Date.now())}))},M=(e=`.${l}osc`)=>{const t=document.querySelector(e);if(!t)return()=>{};const n=(e,n)=>{t.querySelectorAll(`[${c}osc=${JSON.stringify(e)}]`).forEach(n)};return k()||n("fullscreen",(e=>e.style.display="none")),g||n("presenter",(e=>{e.disabled=!0,e.title="Presenter view is disabled due to restricted localStorage."})),e=>{t.addEventListener("click",(t=>{if(t.target instanceof HTMLElement){const{bespokeMarpOsc:n}=t.target.dataset;n&&t.target.blur();const r={fragment:!t.shiftKey};"next"===n?e.next(r):"prev"===n?e.prev(r):"fullscreen"===n?null==e||e.fullscreen():"presenter"===n&&e.openPresenterView()}})),e.parent.appendChild(t),e.on("activate",(({index:t})=>{n("page",(n=>n.textContent=`Page ${t+1} of ${e.slides.length}`))})),e.on("fragment",(({index:t,fragments:r,fragmentIndex:o})=>{n("prev",(e=>e.disabled=0===t&&0===o)),n("next",(n=>n.disabled=t===e.slides.length-1&&o===r.length-1))})),e.on("marp-active",(()=>y(t,!1))),e.on("marp-inactive",(()=>y(t,!0))),k()&&(e=>{for(const t of["","webkit"])x.addEventListener(t+"fullscreenchange",e)})((()=>n("fullscreen",(e=>e.classList.toggle("exit",k()&&$())))))}},O=e=>{window.addEventListener("message",(t=>{if(t.origin!==window.origin)return;const[n,r]=t.data.split(":");if("navigate"===n){const[t,n]=r.split(",");let o=Number.parseInt(t,10),i=Number.parseInt(n,10)+1;i>=e.fragments[o].length&&(o+=1,i=0),e.slide(o,{fragment:i})}}))};var A=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];let C=e=>String(e).replace(/[&<>"']/g,(e=>`&${D[e]};`)),D={"&":"amp","<":"lt",">":"gt",'"':"quot","'":"apos"},N="dangerouslySetInnerHTML",B={className:"class",htmlFor:"for"},q={};function K(e,t){let n=[],r="";t=t||{};for(let e=arguments.length;e-- >2;)n.push(arguments[e]);if("function"==typeof e)return t.children=n.reverse(),e(t);if(e){if(r+="<"+e,t)for(let e in t)!1!==t[e]&&null!=t[e]&&e!==N&&(r+=` ${B[e]?B[e]:C(e)}="${C(t[e])}"`);r+=">"}if(-1===A.indexOf(e)){if(t[N])r+=t[N].__html;else for(;n.length;){let e=n.pop();if(e)if(e.pop)for(let t=e.length;t--;)n.push(e[t]);else r+=!0===q[e]?e:C(e)}r+=e?`</${e}>`:""}return q[r]=!0,r}const j=({children:e})=>K(null,null,...e),F=`${l}presenter-`,V={container:`${F}container`,dragbar:`${F}dragbar-container`,next:`${F}next`,nextContainer:`${F}next-container`,noteContainer:`${F}note-container`,noteWrapper:`${F}note-wrapper`,noteButtons:`${F}note-buttons`,infoContainer:`${F}info-container`,infoPage:`${F}info-page`,infoPageText:`${F}info-page-text`,infoPagePrev:`${F}info-page-prev`,infoPageNext:`${F}info-page-next`,noteButtonsBigger:`${F}note-bigger`,noteButtonsSmaller:`${F}note-smaller`,infoTime:`${F}info-time`,infoTimer:`${F}info-timer`},U=e=>{const{title:t}=document;document.title="[Presenter view]"+(t?` - ${t}`:"");const n={},r=e=>(n[e]=n[e]||document.querySelector(`.${e}`),n[e]);document.body.appendChild((e=>{const t=document.createElement("div");return t.className=V.container,t.appendChild(e),t.insertAdjacentHTML("beforeend",K(j,null,K("div",{class:V.nextContainer},K("iframe",{class:V.next,src:"?view=next"})),K("div",{class:V.dragbar}),K("div",{class:V.noteContainer},K("div",{class:V.noteWrapper}),K("div",{class:V.noteButtons},K("button",{class:V.noteButtonsSmaller,tabindex:"-1",title:"Smaller notes font size"},"Smaller notes font size"),K("button",{class:V.noteButtonsBigger,tabindex:"-1",title:"Bigger notes font size"},"Bigger notes font size"))),K("div",{class:V.infoContainer},K("div",{class:V.infoPage},K("button",{class:V.infoPagePrev,tabindex:"-1",title:"Previous"},"Previous"),K("span",{class:V.infoPageText}),K("button",{class:V.infoPageNext,tabindex:"-1",title:"Next"},"Next")),K("time",{class:V.infoTime,title:"Current time"}),K("time",{class:V.infoTimer,title:"Timer"})))),t})(e.parent)),(e=>{let t=!1;r(V.dragbar).addEventListener("mousedown",(()=>{t=!0,r(V.dragbar).classList.add("active")})),window.addEventListener("mouseup",(()=>{t=!1,r(V.dragbar).classList.remove("active")})),window.addEventListener("mousemove",(e=>{if(!t)return;const n=e.clientX/document.documentElement.clientWidth*100;r(V.container).style.setProperty("--bespoke-marp-presenter-split-ratio",`${Math.max(0,Math.min(100,n))}%`)})),r(V.nextContainer).addEventListener("click",(()=>e.next()));const n=r(V.next),o=(i=n,(e,t)=>{var n;return null===(n=i.contentWindow)||void 0===n?void 0:n.postMessage(`navigate:${e},${t}`,"null"===window.origin?"*":window.origin)});var i;n.addEventListener("load",(()=>{r(V.nextContainer).classList.add("active"),o(e.slide(),e.fragmentIndex),e.on("fragment",(({index:e,fragmentIndex:t})=>o(e,t)))}));const a=document.querySelectorAll(".bespoke-marp-note");a.forEach((e=>{e.addEventListener("keydown",(e=>e.stopPropagation())),r(V.noteWrapper).appendChild(e)})),e.on("activate",(()=>a.forEach((t=>t.classList.toggle("active",t.dataset.index==e.slide())))));let s=0;const l=e=>{s=Math.max(-5,s+e),r(V.noteContainer).style.setProperty("--bespoke-marp-note-font-scale",(1.2**s).toFixed(4))},c=()=>l(1),d=()=>l(-1),u=r(V.noteButtonsBigger),f=r(V.noteButtonsSmaller);u.addEventListener("click",(()=>{u.blur(),c()})),f.addEventListener("click",(()=>{f.blur(),d()})),document.addEventListener("keydown",(e=>{"+"===e.key&&c(),"-"===e.key&&d()}),!0),e.on("activate",(({index:t})=>{r(V.infoPageText).textContent=`${t+1} / ${e.slides.length}`}));const m=r(V.infoPagePrev),g=r(V.infoPageNext);m.addEventListener("click",(t=>{m.blur(),e.prev({fragment:!t.shiftKey})})),g.addEventListener("click",(t=>{g.blur(),e.next({fragment:!t.shiftKey})})),e.on("fragment",(({index:t,fragments:n,fragmentIndex:r})=>{m.disabled=0===t&&0===r,g.disabled=t===e.slides.length-1&&r===n.length-1}));let p=new Date;const v=()=>{const e=new Date,t=e=>`${Math.floor(e)}`.padStart(2,"0"),n=e.getTime()-p.getTime(),o=t(n/1e3%60),i=t(n/1e3/60%60),a=t(n/36e5%24);r(V.infoTime).textContent=e.toLocaleTimeString(),r(V.infoTimer).textContent=`${a}:${i}:${o}`};v(),setInterval(v,250),r(V.infoTimer).addEventListener("click",(()=>{p=new Date}))})(e)},X=e=>{if(!(e=>e.syncKey&&"string"==typeof e.syncKey)(e))throw new Error("The current instance of Bespoke.js is invalid for Marp bespoke presenter plugin.");Object.defineProperties(e,{openPresenterView:{enumerable:!0,value:H},presenterUrl:{enumerable:!0,get:R}}),g&&document.addEventListener("keydown",(t=>{"p"!==t.key||t.altKey||t.ctrlKey||t.metaKey||(t.preventDefault(),e.openPresenterView())}))};function H(){const{max:e,floor:t}=Math,n=e(t(.85*window.innerWidth),640),r=e(t(.85*window.innerHeight),360);return window.open(this.presenterUrl,F+this.syncKey,`width=${n},height=${r},menubar=no,toolbar=no`)}function R(){const e=new URLSearchParams(location.search);return e.set("view","presenter"),e.set("sync",this.syncKey),d(e)}const W=e=>{const t=u();return t===a&&e.appendChild(document.createElement("span")),{"":X,[i]:U,[a]:O}[t]},J=e=>{e.on("activate",(t=>{document.querySelectorAll(".bespoke-progress-parent > .bespoke-progress-bar").forEach((n=>{n.style.flexBasis=100*t.index/(e.slides.length-1)+"%"}))}))},Y=e=>{const t=Number.parseInt(e,10);return Number.isNaN(t)?null:t},z=(e={})=>{const t={history:!0,...e};return e=>{let n=!0;const r=e=>{const t=n;try{return n=!0,e()}finally{n=t}},o=(t={fragment:!0})=>{let n=t.fragment?Y(f("f")||""):null;((t,n)=>{const{min:r,max:o}=Math,{fragments:i,slides:a}=e,s=o(0,r(t,a.length-1)),l=o(0,r(n||0,i[s].length-1));s===e.slide()&&l===e.fragmentIndex||e.slide(s,{fragment:l})})((()=>{var t,r;if(location.hash){const[o]=location.hash.slice(1).split(":~:");if(/^\d+$/.test(o))return(null!==(t=Y(o))&&void 0!==t?t:1)-1;const i=document.getElementById(o)||document.querySelector(`a[name="${CSS.escape(o)}"]`);if(i){const{length:t}=e.slides;for(let o=0;o<t;o+=1)if(e.slides[o].contains(i)){const t=null===(r=e.fragments)||void 0===r?void 0:r[o],a=i.closest("[data-marpit-fragment]");if(t&&a){const e=t.indexOf(a);e>=0&&(n=e)}return o}}}return 0})(),n)};e.on("fragment",(({index:e,fragmentIndex:r})=>{n||m({f:0===r||r.toString()},{location:{...location,hash:`#${e+1}`},setter:(...e)=>t.history?history.pushState(...e):history.replaceState(...e)})})),setTimeout((()=>{o(),window.addEventListener("hashchange",(()=>r((()=>{o({fragment:!1}),m({f:void 0})})))),window.addEventListener("popstate",(()=>{n||r((()=>o()))})),n=!1}),0)}},G=(e={})=>{var t;const n=e.key||(null===(t=window.history.state)||void 0===t?void 0:t.marpBespokeSyncKey)||Math.random().toString(36).slice(2),r=`bespoke-marp-sync-${n}`;var i;i={marpBespokeSyncKey:n},m({},{setter:(e,...t)=>o({...e,...i},...t)});const a=()=>{const e=p(r);return e?JSON.parse(e):Object.create(null)},s=e=>{const t=a(),n={...t,...e(t)};return v(r,JSON.stringify(n)),n},l=()=>{window.removeEventListener("pageshow",l),s((e=>({reference:(e.reference||0)+1})))};return e=>{l(),Object.defineProperty(e,"syncKey",{value:n,enumerable:!0});let t=!0;setTimeout((()=>{e.on("fragment",(e=>{t&&s((()=>({index:e.index,fragmentIndex:e.fragmentIndex})))}))}),0),window.addEventListener("storage",(n=>{if(n.key===r&&n.oldValue&&n.newValue){const r=JSON.parse(n.oldValue),o=JSON.parse(n.newValue);if(r.index!==o.index||r.fragmentIndex!==o.fragmentIndex)try{t=!1,e.slide(o.index,{fragment:o.fragmentIndex,forSync:!0})}finally{t=!0}}}));const o=()=>{const{reference:e}=a();void 0===e||e<=1?h(r):s((()=>({reference:e-1})))};window.addEventListener("pagehide",(e=>{e.persisted&&window.addEventListener("pageshow",l),o()})),e.on("destroy",o)}},{PI:Q,abs:Z,sqrt:ee,atan2:te}=Math,ne={passive:!0},re=({slope:e=-.7,swipeThreshold:t=30}={})=>n=>{let r;const o=n.parent,i=e=>{const t=o.getBoundingClientRect();return{x:e.pageX-(t.left+t.right)/2,y:e.pageY-(t.top+t.bottom)/2}};o.addEventListener("touchstart",(({touches:e})=>{r=1===e.length?i(e[0]):void 0}),ne),o.addEventListener("touchmove",(e=>{if(r)if(1===e.touches.length){e.preventDefault();const t=i(e.touches[0]),n=t.x-r.x,o=t.y-r.y;r.delta=ee(Z(n)**2+Z(o)**2),r.radian=te(n,o)}else r=void 0})),o.addEventListener("touchend",(o=>{if(r){if(r.delta&&r.delta>=t&&r.radian){const t=(r.radian-e+Q)%(2*Q)-Q;n[t<0?"next":"prev"](),o.stopPropagation()}r=void 0}}),ne)},oe=new Map;oe.clear(),oe.set("none",{backward:{both:void 0,incoming:void 0,outgoing:void 0},forward:{both:void 0,incoming:void 0,outgoing:void 0}});const ie={both:"",outgoing:"outgoing-",incoming:"incoming-"},ae={forward:"",backward:"-backward"},se=e=>`--marp-bespoke-transition-animation-${e}`,le=e=>`--marp-transition-${e}`,ce=se("name"),de=se("duration"),ue=e=>new Promise((t=>{const n={},r=document.createElement("div"),o=e=>{r.remove(),t(e)};r.addEventListener("animationstart",(()=>o(n))),Object.assign(r.style,{animationName:e,animationDuration:"1s",animationFillMode:"both",animationPlayState:"paused",position:"absolute",pointerEvents:"none"}),document.body.appendChild(r);const i=getComputedStyle(r).getPropertyValue(le("duration"));i&&(n.defaultDuration=i),((e,t)=>{requestAnimationFrame((()=>{e.style.animationPlayState="running",requestAnimationFrame((()=>t(void 0)))}))})(r,o)})),fe=async e=>oe.has(e)?oe.get(e):(e=>{const t={},n=[];for(const[r,o]of Object.entries(ie))for(const[i,a]of Object.entries(ae)){const s=`marp-${o}transition${a}-${e}`;n.push(ue(s).then((e=>{t[i]=t[i]||{},t[i][r]=e?{...e,name:s}:void 0})))}return Promise.all(n).then((()=>t))})(e).then((t=>(oe.set(e,t),t))),me=e=>Object.values(e).flatMap(Object.values).every((e=>!e)),ge=(e,{type:t,backward:n})=>{const r=e[n?"backward":"forward"],o=(()=>{const e=r[t],n=e=>({[ce]:e.name});if(e)return n(e);if(r.both){const e=n(r.both);return"incoming"===t&&(e[se("direction")]="reverse"),e}})();return!o&&n?ge(e,{type:t,backward:!1}):o||{[ce]:"__bespoke_marp_transition_no_animation__"}},pe=e=>{if(e)try{const t=JSON.parse(e);if((e=>{if("object"!=typeof e)return!1;const t=e;return"string"==typeof t.name&&(void 0===t.duration||"string"==typeof t.duration)})(t))return t}catch(e){}},ve="_tSId",he="_tA",ye="bespoke-marp-transition-warming-up",be=window.matchMedia("(prefers-reduced-motion: reduce)"),we="__bespoke_marp_transition_reduced_outgoing__",xe="__bespoke_marp_transition_reduced_incoming__",ke={forward:{both:void 0,incoming:{name:xe},outgoing:{name:we}},backward:{both:void 0,incoming:{name:xe},outgoing:{name:we}}},$e=e=>{if(!document.startViewTransition)return;const t=t=>(void 0!==t&&(e._tD=t),e._tD);let n;t(!1),((...e)=>{const t=[...new Set(e).values()];return Promise.all(t.map((e=>fe(e)))).then()})(...Array.from(document.querySelectorAll("section[data-transition], section[data-transition-back]")).flatMap((e=>[e.dataset.transition,e.dataset.transitionBack].flatMap((e=>{const t=pe(e);return[null==t?void 0:t.name,(null==t?void 0:t.builtinFallback)?`__builtin__${t.name}`:void 0]})).filter((e=>!!e))))).then((()=>{document.querySelectorAll("style").forEach((e=>{e.innerHTML=e.innerHTML.replace(/--marp-transition-duration:[^;}]*[;}]/g,(e=>e.slice(0,-1)+"!important"+e.slice(-1)))}))}));const r=(n,{back:r,cond:o})=>i=>{var a;const s=t();if(s)return!!i[he]||!("object"!=typeof s||(s.skipTransition(),!i.forSync));if(!o(i))return!0;const l=e.slides[e.slide()],c=()=>{var e;return null!==(e=i.back)&&void 0!==e?e:r},d="data-transition"+(c()?"-back":""),u=l.querySelector(`section[${d}]`);if(!u)return!0;const f=pe(null!==(a=u.getAttribute(d))&&void 0!==a?a:void 0);return!f||((async(e,{builtinFallback:t=!0}={})=>{let n=await fe(e);if(me(n)){if(!t)return;return n=await fe(`__builtin__${e}`),me(n)?void 0:n}return n})(f.name,{builtinFallback:f.builtinFallback}).then((e=>{if(!e){t(!0);try{n(i)}finally{t(!1)}return}let r=e;be.matches&&(console.warn("Use a constant animation to transition because preferring reduced motion by viewer has detected."),r=ke);const o=document.getElementById(ve);o&&o.remove();const a=document.createElement("style");a.id=ve,document.head.appendChild(a),((e,t)=>{const n=[`:root{${le("direction")}:${t.backward?-1:1};}`,":root:has(.bespoke-marp-inactive){cursor:none;}"],r=t=>{var n,o,i;const a=(null===(n=e[t].both)||void 0===n?void 0:n.defaultDuration)||(null===(o=e[t].outgoing)||void 0===o?void 0:o.defaultDuration)||(null===(i=e[t].incoming)||void 0===i?void 0:i.defaultDuration);return"forward"===t?a:a||r("forward")},o=t.duration||r(t.backward?"backward":"forward");void 0!==o&&n.push(`::view-transition-group(*){${de}:${o};}`);const i=e=>Object.entries(e).map((([e,t])=>`${e}:${t};`)).join("");return n.push(`::view-transition-old(root){${i(ge(e,{...t,type:"outgoing"}))}}`,`::view-transition-new(root){${i(ge(e,{...t,type:"incoming"}))}}`),n})(r,{backward:c(),duration:f.duration}).forEach((e=>{var t;return null===(t=a.sheet)||void 0===t?void 0:t.insertRule(e)}));const s=document.documentElement.classList;s.add(ye);let l=!1;const d=()=>{l||(n(i),l=!0,s.remove(ye))},u=()=>{t(!1),a.remove(),s.remove(ye)};try{t(!0);const e=document.startViewTransition(d);t(e),e.finished.finally(u)}catch(e){console.error(e),d(),u()}})),!1)};e.on("prev",r((t=>e.prev({...t,[he]:!0})),{back:!0,cond:e=>{var t;return e.index>0&&!((null===(t=e.fragment)||void 0===t||t)&&n.fragmentIndex>0)}})),e.on("next",r((t=>e.next({...t,[he]:!0})),{cond:t=>t.index+1<e.slides.length&&!(n.fragmentIndex+1<n.fragments.length)})),setTimeout((()=>{e.on("slide",r((t=>e.slide(t.index,{...t,[he]:!0})),{cond:t=>{const n=e.slide();return t.index!==n&&(t.back=t.index<n,!0)}}))}),0),e.on("fragment",(e=>{n=e}))};let Ee;const Le=()=>(void 0===Ee&&(Ee="wakeLock"in navigator&&navigator.wakeLock),Ee),Se=async()=>{const e=Le();if(e)try{return await e.request("screen")}catch(e){console.warn(e)}return null},Pe=async()=>{if(!Le())return;let e;const t=()=>{e&&"visible"===document.visibilityState&&Se()};for(const e of["visibilitychange","fullscreenchange"])document.addEventListener(e,t);return e=await Se(),e};((e=document.getElementById(":$p"))=>{(()=>{const e=f("view");r.dataset.bespokeView=e===a||e===i?e:""})();const t=(e=>{const t=f(e);return m({[e]:void 0}),t})("sync")||void 0;n.from(e,((...e)=>{const t=s.findIndex((e=>u()===e));return e.map((([e,n])=>e[t]&&n)).filter((e=>e))})([[1,1,0],G({key:t})],[[1,1,1],W(e)],[[1,1,0],_],[[1,1,1],b],[[1,0,0],S()],[[1,1,1],T],[[1,1,1],z({history:!1})],[[1,1,0],I()],[[1,1,0],E],[[1,0,0],J],[[1,1,0],re()],[[1,0,0],M()],[[1,0,0],$e],[[1,1,1],w],[[1,1,0],Pe]))})()}();</script></body></html>